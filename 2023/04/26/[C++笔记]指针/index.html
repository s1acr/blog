<!DOCTYPE html><html lang="en"><head><!-- hexo injector head_begin start -->
<link rel="stylesheet" href="/css/bilicard.css">
<meta name="baidu-site-verification" content="codeva-pFQ3MHhnDY">
<script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9317015731056598" crossorigin="anonymous"></script>

<script src="/config.b810d57c68fbb8a39a0a.js"></script>
<!-- hexo injector head_begin end -->
<meta charset="utf-8">
<title>[C++笔记]指针 - slacr_'s blog</title>
<base href="/">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
<link rel="canonical" href="https://s1acr.github.io/2023/04/26/[C++%E7%AC%94%E8%AE%B0]%E6%8C%87%E9%92%88/">
<link rel="icon" type="image/x-icon" href="https://cdn.jsdelivr.net/gh/s1acr/PicGoLib@main/Typora/bitbug_favicon.ico">
<link rel="manifest" href="/manifest.json">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="description" content="C++笔记  指针 函数指针 函数名就表示函数的代码在内存中的起始地址。调用函数的通常形式&quot;函数名(参数表)“的实质就是&quot;函数代码首地址(参数表)”。 函数名在表示函数代码起始地址的同时，也包括函数的返回值类型和参数的个数、类型、排列次序等信息。因此在通过函数名调用函数时，编译系统能够自动检查实参与形参是否相符，用函数的返回值参与其他运算时，能自动进行类型一致性检查。 123">
<meta property="og:type" content="website">
<meta property="og:title" content="[C++笔记]指针">
<meta property="og:url" content="https://s1acr.github.io/2023/04/26/[C++%E7%AC%94%E8%AE%B0]%E6%8C%87%E9%92%88/index.html">
<meta property="og:site_name" content="slacr_'s blog">
<meta property="og:description" content="C++笔记  指针 函数指针 函数名就表示函数的代码在内存中的起始地址。调用函数的通常形式&quot;函数名(参数表)“的实质就是&quot;函数代码首地址(参数表)”。 函数名在表示函数代码起始地址的同时，也包括函数的返回值类型和参数的个数、类型、排列次序等信息。因此在通过函数名调用函数时，编译系统能够自动检查实参与形参是否相符，用函数的返回值参与其他运算时，能自动进行类型一致性检查。 123">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/s1acr/PicGoLib@main/Typora/qqAvatar.jpg">
<meta property="article:published_time" content="2023-04-26T00:00:00.000Z">
<meta property="article:modified_time" content="2023-04-26T00:00:00.000Z">
<meta property="article:author" content="slacr_">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/s1acr/PicGoLib@main/Typora/qqAvatar.jpg">
<script type="application/ld+json">[{"@context":"http://schema.org","@type":"WebSite","publisher":{"@type":"Person","name":"slacr_","description":"Crap Programmer, College Student From CN. Idealist and Minimalism, life-long learner. I was lucky to find out what I truly have passion for. 🚬.","image":"https://cdn.jsdelivr.net/gh/s1acr/PicGoLib@main/Typora/qqAvatar.jpg"},"url":"https://s1acr.github.io","image":"https://cdn.jsdelivr.net/gh/s1acr/PicGoLib@main/Typora/qqAvatar.jpg","description":"slacr_ blog self blog website record coding githubpages","author":{"@type":"Person","name":"slacr_","description":"Crap Programmer, College Student From CN. Idealist and Minimalism, life-long learner. I was lucky to find out what I truly have passion for. 🚬.","image":"https://cdn.jsdelivr.net/gh/s1acr/PicGoLib@main/Typora/qqAvatar.jpg"},"inLanguage":{"@type":"Language","alternateName":"en"}},{"@context":"http://schema.org","@type":"Article","articleSection":"C++","url":"https://s1acr.github.io/2023/04/26/[C++%E7%AC%94%E8%AE%B0]%E6%8C%87%E9%92%88/","headline":"[C++笔记]指针","image":"https://cdn.jsdelivr.net/gh/s1acr/PicGoLib@main/Typora/qqAvatar.jpg","datePublished":"2023-04-26T00:00:00.000Z","dateModified":"2023-04-26T00:00:00.000Z","keywords":"","description":"slacr_ blog self blog website record coding githubpages","publisher":{"@type":"Organization","name":"slacr_'s blog","logo":{"@type":"ImageObject","url":"https://cdn.jsdelivr.net/gh/s1acr/PicGoLib@main/Typora/qqAvatar.jpg"}},"author":{"@type":"Person","name":"slacr_","description":"Crap Programmer, College Student From CN. Idealist and Minimalism, life-long learner. I was lucky to find out what I truly have passion for. 🚬.","image":"https://cdn.jsdelivr.net/gh/s1acr/PicGoLib@main/Typora/qqAvatar.jpg"},"inLanguage":{"@type":"Language","alternateName":"en"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://s1acr.github.io/2023/04/26/[C++%E7%AC%94%E8%AE%B0]%E6%8C%87%E9%92%88/"}}]</script>

<!-- hexo injector head_end start --><style is="theme">html{--inside-accent-color:#2a2b33;--inside-foreground-color:#363636;--inside-border-color:#e0e0e0;--inside-background:#f3f6f7;--inside-sidebar-background:#2a2b33;--inside-card-background:#fff;--inside-font-base:ZCOOL_XiaoWei;--inside-font-logo:Lobster,ZCOOL_XiaoWei;--inside-font-menu:Lobster,ZCOOL_XiaoWei;--inside-font-heading:Baloo_Paaji_2,ZCOOL_XiaoWei;--inside-font-label:Lobster,ZCOOL_XiaoWei;--inside-font-code:ZCOOL_XiaoWei,Inconsolata,monospace;--inside-font-print:ZCOOL_XiaoWei;--inside-content-width:800px;--inside-highlight-00:#1e1e1e;--inside-highlight-01:#323537;--inside-highlight-02:#464b50;--inside-highlight-03:#5f5a60;--inside-highlight-04:#838184;--inside-highlight-05:#a7a7a7;--inside-highlight-06:#c3c3c3;--inside-highlight-07:#ffffff;--inside-highlight-08:#cf6a4c;--inside-highlight-09:#cda869;--inside-highlight-0a:#f9ee98;--inside-highlight-0b:#8f9d6a;--inside-highlight-0c:#afc4db;--inside-highlight-0d:#7587a6;--inside-highlight-0e:#9b859d;--inside-highlight-0f:#9b703f;--inside-card-color:#fff;--inside-accent-color-005:rgba(42,43,51,.05);--inside-accent-color-01:rgba(42,43,51,.1);--inside-accent-color-02:rgba(42,43,51,.2);--inside-accent-color-04:rgba(42,43,51,.4);--inside-accent-color-08:rgba(42,43,51,.8)}</style><script src="/theme.9ecc9ab1.js"></script><link href="https://cdn.jsdelivr.net/gh/s1acr/my_jsDelivr@main/googleFonts/myblog.css" rel="stylesheet"><link href="//cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet"><link href="//cdn.jsdelivr.net/gh/s1acr/my_jsDelivr@main/blogSelfDesignDist.css" rel="stylesheet">
<script src="/cipher.0329a0a9.js"></script>

<script src="/palette.ead17218.js"></script>
<link href="/styles.91e7dfca63c7c151daa6.css" rel="stylesheet"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><meta name="theme-color" content=""><script type="application/json" is="state">{&q;api/MjAyMy8wNC8yNi9bQysr56yU6K6wXeaMh+mSiA.json&q;:{&q;title&q;:&q;[C++笔记]指针&q;,&q;date&q;:&q;2023-04-26T00:00:00.000Z&q;,&q;date_formatted&q;:{&q;ll&q;:&q;Apr 26, 2023&q;,&q;L&q;:&q;04/26/2023&q;,&q;MM-DD&q;:&q;04-26&q;},&q;link&q;:&q;2023/04/26/[C++笔记]指针&q;,&q;comments&q;:true,&q;categories&q;:[&q;C++&q;],&q;updated&q;:&q;2023-04-26T00:00:00.000Z&q;,&q;content&q;:&q;&l;blockquote&g;\n&l;p&g;C++笔记&l;/p&g;\n&l;/blockquote&g;\n&l;h2 id=\&q;指针\&q;&g;指针&l;a title=\&q;#指针\&q; href=\&q;#指针\&q;&g;&l;/a&g;&l;/h2&g;\n&l;h3 id=\&q;函数指针\&q;&g;函数指针&l;a title=\&q;#函数指针\&q; href=\&q;#函数指针\&q;&g;&l;/a&g;&l;/h3&g;\n&l;p&g;函数名就表示函数的代码在内存中的起始地址。调用函数的通常形式&a;quot;函数名(参数表)“的实质就是&a;quot;函数代码首地址(参数表)”。&l;br&g;\n函数名在表示函数代码起始地址的同时，也包括函数的返回值类型和参数的个数、类型、排列次序等信息。因此在通过函数名调用函数时，编译系统能够自动检查实参与形参是否相符，用函数的返回值参与其他运算时，能自动进行类型一致性检查。&l;/p&g;\n&l;figure class=\&q;highlight c++\&q;&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;5&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;6&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;7&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;8&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;9&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;10&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;11&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;12&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;13&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;14&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;15&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;16&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;17&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;18&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;19&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;20&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;21&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;22&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;23&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;24&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;25&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;26&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;27&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;28&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;29&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;30&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;31&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;32&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;33&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;keyword\&q;&g;include&l;/span&g; &l;span class=\&q;string\&q;&g;&a;lt;iostream&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;using&l;/span&g; &l;span class=\&q;keyword\&q;&g;namespace&l;/span&g; std;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;type\&q;&g;void&l;/span&g; &l;span class=\&q;title\&q;&g;test_01&l;/span&g;&l;span class=\&q;params\&q;&g;(&l;span class=\&q;type\&q;&g;float&l;/span&g;)&l;/span&g; &l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;test_01&a;quot;&l;/span&g; &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;type\&q;&g;void&l;/span&g; &l;span class=\&q;title\&q;&g;test_02&l;/span&g;&l;span class=\&q;params\&q;&g;(&l;span class=\&q;type\&q;&g;float&l;/span&g; f)&l;/span&g; &l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;test_02_&a;quot;&l;/span&g; &a;lt;&a;lt; f &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;type\&q;&g;void&l;/span&g; &l;span class=\&q;title\&q;&g;test_03&l;/span&g;&l;span class=\&q;params\&q;&g;(&l;span class=\&q;type\&q;&g;int&l;/span&g; i)&l;/span&g; &l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;test_03_&a;quot;&l;/span&g; &a;lt;&a;lt; i &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;typedef&l;/span&g; &l;span class=\&q;title\&q;&g;void&l;/span&g; &l;span class=\&q;params\&q;&g;(*fp)&l;/span&g;&l;span class=\&q;params\&q;&g;(&l;span class=\&q;type\&q;&g;int&l;/span&g;)&l;/span&g;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;type\&q;&g;int&l;/span&g; &l;span class=\&q;title\&q;&g;main&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g; &l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;built_in\&q;&g;void&l;/span&g; (*func_ptr)(&l;span class=\&q;type\&q;&g;float&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tfunc_ptr = test_01;\t\t\t&l;span class=\&q;comment\&q;&g;// 定义的函数指针必须与test_01相同 void(*)(float)&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;built_in\&q;&g;func_ptr&l;/span&g;(&l;span class=\&q;number\&q;&g;0.1&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tfunc_ptr = test_02;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;built_in\&q;&g;func_ptr&l;/span&g;(&l;span class=\&q;number\&q;&g;0.2&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;built_in\&q;&g;void&l;/span&g; (*func_ptr_2)(&l;span class=\&q;type\&q;&g;int&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tfunc_ptr_2 = test_03;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;built_in\&q;&g;func_ptr_2&l;/span&g;(&l;span class=\&q;number\&q;&g;5&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tfp my_fptr = test_03;\t&l;span class=\&q;comment\&q;&g;// 使用自定义的函数指针类型&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;built_in\&q;&g;my_fptr&l;/span&g;(&l;span class=\&q;number\&q;&g;999&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;keyword\&q;&g;return&l;/span&g; &l;span class=\&q;number\&q;&g;0&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;\n&l;h3 id=\&q;数组指针\&q;&g;数组指针&l;a title=\&q;#数组指针\&q; href=\&q;#数组指针\&q;&g;&l;/a&g;&l;/h3&g;\n&l;figure class=\&q;highlight c++\&q;&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;5&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;6&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;7&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;8&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;9&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;10&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;11&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;12&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;13&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;14&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;15&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;16&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;17&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;18&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;19&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;20&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;21&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;22&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;23&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;24&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;25&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;26&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;27&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;28&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;29&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;30&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;31&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;32&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;keyword\&q;&g;include&l;/span&g;&l;span class=\&q;string\&q;&g;&a;lt;iostream&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;using&l;/span&g; &l;span class=\&q;keyword\&q;&g;namespace&l;/span&g; std;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;type\&q;&g;int&l;/span&g; &l;span class=\&q;title\&q;&g;main&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g; &l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;type\&q;&g;const&l;/span&g; &l;span class=\&q;type\&q;&g;int&l;/span&g; a = &l;span class=\&q;number\&q;&g;5&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;type\&q;&g;int&l;/span&g; arr[a&l;span class=\&q;number\&q;&g;-2&l;/span&g;][a&l;span class=\&q;number\&q;&g;-1&l;/span&g;][a];\t&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;built_in\&q;&g;int&l;/span&g;(*arr_ptr)[a&l;span class=\&q;number\&q;&g;-1&l;/span&g;][a] = arr;   &l;span class=\&q;comment\&q;&g;//\t三维数组的指针 arr_ptr既是指针也是数组名&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcout &a;lt;&a;lt; arr_ptr[&l;span class=\&q;number\&q;&g;0&l;/span&g;][&l;span class=\&q;number\&q;&g;0&l;/span&g;][&l;span class=\&q;number\&q;&g;0&l;/span&g;] &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tarr_ptr = &l;span class=\&q;keyword\&q;&g;new&l;/span&g; &l;span class=\&q;type\&q;&g;int&l;/span&g;[a&l;span class=\&q;number\&q;&g;-2&l;/span&g;][a&l;span class=\&q;number\&q;&g;-1&l;/span&g;][a]();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcout &a;lt;&a;lt; arr_ptr[&l;span class=\&q;number\&q;&g;1&l;/span&g;][&l;span class=\&q;number\&q;&g;1&l;/span&g;][&l;span class=\&q;number\&q;&g;1&l;/span&g;] &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;keyword\&q;&g;for&l;/span&g; (&l;span class=\&q;type\&q;&g;int&l;/span&g; i = &l;span class=\&q;number\&q;&g;0&l;/span&g;; i &a;lt; a - &l;span class=\&q;number\&q;&g;2&l;/span&g;; i++) &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;span class=\&q;keyword\&q;&g;for&l;/span&g; (&l;span class=\&q;type\&q;&g;int&l;/span&g; j = &l;span class=\&q;number\&q;&g;0&l;/span&g;; j &a;lt; a - &l;span class=\&q;number\&q;&g;1&l;/span&g;; j++) &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&l;span class=\&q;keyword\&q;&g;for&l;/span&g; (&l;span class=\&q;type\&q;&g;int&l;/span&g; k = &l;span class=\&q;number\&q;&g;0&l;/span&g;; k &a;lt; a; k++) &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t\t*(*(*(arr_ptr + i) + j) + k) = (i+&l;span class=\&q;number\&q;&g;1&l;/span&g;) * &l;span class=\&q;number\&q;&g;100&l;/span&g; + (j+&l;span class=\&q;number\&q;&g;1&l;/span&g;) * &l;span class=\&q;number\&q;&g;10&l;/span&g; + (k+&l;span class=\&q;number\&q;&g;1&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&a;#125; &l;span class=\&q;comment\&q;&g;// 用指针偏移量访问数组&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;keyword\&q;&g;for&l;/span&g; (&l;span class=\&q;type\&q;&g;int&l;/span&g; i = &l;span class=\&q;number\&q;&g;0&l;/span&g;; i &a;lt; a - &l;span class=\&q;number\&q;&g;2&l;/span&g;; i++) &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;span class=\&q;keyword\&q;&g;for&l;/span&g; (&l;span class=\&q;type\&q;&g;int&l;/span&g; j = &l;span class=\&q;number\&q;&g;0&l;/span&g;; j &a;lt; a - &l;span class=\&q;number\&q;&g;1&l;/span&g;; j++) &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&l;span class=\&q;keyword\&q;&g;for&l;/span&g; (&l;span class=\&q;type\&q;&g;int&l;/span&g; k = &l;span class=\&q;number\&q;&g;0&l;/span&g;; k &a;lt; a; k++) &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t\tcout &a;lt;&a;lt; arr_ptr[i][j][k] &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot; &a;quot;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&a;#125; &l;span class=\&q;comment\&q;&g;// 用下标访问数组&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\tcout &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\tcout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;===================&a;quot;&l;/span&g; &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;keyword\&q;&g;delete&l;/span&g;[] arr_ptr;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;keyword\&q;&g;return&l;/span&g; &l;span class=\&q;number\&q;&g;0&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;\n&l;h3 id=\&q;this指针\&q;&g;this指针&l;a title=\&q;#this指针\&q; href=\&q;#this指针\&q;&g;&l;/a&g;&l;/h3&g;\n&l;p&g;this 指针实际上是类成员函数的一个隐含参数。在调用类的成员函数时，&l;code&g;目的对象的地址会自动作为该参数的值&l;/code&g;，传递给被调用的成员函数，这样被调函数就能够通过this 指针来访问目的对象的数据成员。对于常成员函数来说，这个隐含的参数是常指针类型的。&l;/p&g;\n&l;h3 id=\&q;指向类的成员的指针\&q;&g;指向类的成员的指针&l;a title=\&q;#指向类的成员的指针\&q; href=\&q;#指向类的成员的指针\&q;&g;&l;/a&g;&l;/h3&g;\n&l;figure class=\&q;highlight c++\&q;&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;5&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;6&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;7&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;8&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;9&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;10&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;11&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;12&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;13&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;14&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;15&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;16&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;17&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;18&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;19&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;20&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;21&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;22&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;23&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;24&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;25&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;26&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;27&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;28&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;29&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;30&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;31&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;32&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;33&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;34&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;35&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;36&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;37&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;38&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;39&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;40&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;41&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;42&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;43&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;44&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;45&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;46&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;47&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;48&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;keyword\&q;&g;include&l;/span&g;&l;span class=\&q;string\&q;&g;&a;lt;iostream&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;using&l;/span&g; &l;span class=\&q;keyword\&q;&g;namespace&l;/span&g; std;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;class&l;/span&g; &l;span class=\&q;title class_\&q;&g;P&l;/span&g; &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;public&l;/span&g;:&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;type\&q;&g;int&l;/span&g; y = &l;span class=\&q;number\&q;&g;100&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;type\&q;&g;int&l;/span&g; x;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;type\&q;&g;static&l;/span&g; &l;span class=\&q;type\&q;&g;int&l;/span&g; z;  &l;span class=\&q;comment\&q;&g;// 引用性声明&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;built_in\&q;&g;P&l;/span&g;()&a;#123;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;built_in\&q;&g;P&l;/span&g;(&l;span class=\&q;type\&q;&g;int&l;/span&g; x) : &l;span class=\&q;built_in\&q;&g;x&l;/span&g;(x) &a;#123;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;function\&q;&g;&l;span class=\&q;type\&q;&g;void&l;/span&g; &l;span class=\&q;title\&q;&g;test&l;/span&g;&l;span class=\&q;params\&q;&g;(string s)&l;/span&g; &l;span class=\&q;type\&q;&g;const&l;/span&g;&l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\tcout &a;lt;&a;lt; s &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;function\&q;&g;&l;span class=\&q;type\&q;&g;static&l;/span&g; &l;span class=\&q;type\&q;&g;void&l;/span&g; &l;span class=\&q;title\&q;&g;st&l;/span&g;&l;span class=\&q;params\&q;&g;(string s)&l;/span&g;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;type\&q;&g;int&l;/span&g; P::z;   &l;span class=\&q;comment\&q;&g;// 定义性声明, 静态成员默认初始值0, 也可以指定值.&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;type\&q;&g;void&l;/span&g; &l;span class=\&q;title\&q;&g;P::st&l;/span&g;&l;span class=\&q;params\&q;&g;(string s)&l;/span&g; &l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcout &a;lt;&a;lt; s &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;type\&q;&g;int&l;/span&g; &l;span class=\&q;title\&q;&g;main&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g; &l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;function\&q;&g;P &l;span class=\&q;title\&q;&g;p&l;/span&g;&l;span class=\&q;params\&q;&g;(&l;span class=\&q;number\&q;&g;1&l;/span&g;)&l;/span&g;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tP* PTR = &a;amp;p;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;type\&q;&g;int&l;/span&g; P::* ptr;   &l;span class=\&q;comment\&q;&g;// 声明指向类中数据成员的指针&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tptr = &a;amp;P::x;\t&l;span class=\&q;comment\&q;&g;// 初始化&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcout &a;lt;&a;lt; p.*ptr &a;lt;&a;lt; endl;\t&l;span class=\&q;comment\&q;&g;// 使用对象名调用&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcout &a;lt;&a;lt; PTR-&a;gt;*ptr &a;lt;&a;lt; endl;  &l;span class=\&q;comment\&q;&g;// 使用对象指针调用&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcout &a;lt;&a;lt; &a;amp;p &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcout &a;lt;&a;lt; PTR &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcout &a;lt;&a;lt; &a;amp;(p.*ptr) &a;lt;&a;lt; endl;\t&l;span class=\&q;comment\&q;&g;// 对象名的地址就是第一个元素的地址&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t\t\t\t&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;built_in\&q;&g;void&l;/span&g; (P:: * f_ptr) (string) &l;span class=\&q;type\&q;&g;const&l;/span&g;;\t&l;span class=\&q;comment\&q;&g;// 成员函数指针&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tf_ptr = &a;amp;P::test;\t\t\t\t&l;span class=\&q;comment\&q;&g;// 初始化&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t(p.*f_ptr)(&l;span class=\&q;string\&q;&g;&a;quot;good&a;quot;&l;/span&g;);\t\t\t\t&l;span class=\&q;comment\&q;&g;// 调用&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t(PTR-&a;gt;*f_ptr)(&l;span class=\&q;string\&q;&g;&a;quot;nice&a;quot;&l;/span&g;);\t&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;type\&q;&g;int&l;/span&g;* s_ptr = &a;amp;P::z;\t\t\t&l;span class=\&q;comment\&q;&g;// 静态成员的指针, 全局变量&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcout &a;lt;&a;lt; (*s_ptr) &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;built_in\&q;&g;void&l;/span&g; (* sf_ptr)(string) = &a;amp;P::st;\t\t&l;span class=\&q;comment\&q;&g;// &a;amp; 可写可不写&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t(sf_ptr)(&l;span class=\&q;string\&q;&g;&a;quot;well&a;quot;&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;keyword\&q;&g;return&l;/span&g; &l;span class=\&q;number\&q;&g;0&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;\n&l;h2 id=\&q;动态内存分配\&q;&g;动态内存分配&l;a title=\&q;#动态内存分配\&q; href=\&q;#动态内存分配\&q;&g;&l;/a&g;&l;/h2&g;\n&l;p&g;在程序运行过程中申请和释放的存储单元也称为堆对象，申请和释放过程一般称为建立和删除。&l;br&g;\nnew 数据类型(初始化参数列表);&l;/p&g;\n&l;p&g;如果内存申请成功. new 运算便返回一个指向新分配内存首地址的类型的指针，可以通过这个指针对堆对象进行访问. 如果申请失败，会抛出异常.&l;br&g;\n对于基本数据类型，如采不希望在分配内存后设定初值，可以把括号省去&l;br&g;\n如采保留括号，但括号中不写任何数值，则表示用。对该对象初始化&l;/p&g;\n&l;p&g;delete 指针名;&l;br&g;\n对象的析构函数将被调用。&l;br&g;\n对于用 new 建立的对象，只能使用 delete 进行&l;code&g;一次删除&l;/code&g;操作&l;/p&g;\n&l;p&g;new 分配的内存，必须用 delete 加以释放，否则会导致动态分配的内存无法回收，使得程序占据的内存越来越大，造成&a;quot;内存泄漏&a;quot;。&l;/p&g;\n&l;p&g;new 动态创建一维数组时，在方括号后仍然可以加小括号&a;quot;()&a;quot;, 初始化0;&l;/p&g;\n&l;p&g;利用动态内存分配操作实现了数组的动态创建，使得数组元素的个数可以根据运行时的需要而确定。但是建立和删除数组的过程使得程序略显烦琐，更好的方法是将数组的建立和删除过程封装起来，形成一个&l;code&g;动态数组类&l;/code&g;。&l;/p&g;\n&l;p&g;assert 的含义是&a;quot;断言&a;quot;，它是标准 c+十的 cassert 头文件中定义的一个宏，用来判断一个条件表达式的值是否为 true ，如果不为 true ，程序会中止，并且报告出错误，这样就很容易将错误定位。一个程序一般可以以两种模式编译 &l;code&g;调试(debug) 模式和发行( release) 模式&l;/code&g;， assert 只在调试模式下生效，而在发行模式下不执行任何操作，这样兼顾了调试模式的调试需求和发行模式的效率需求。&l;/p&g;\n&l;h2 id=\&q;字符串和string容器\&q;&g;字符串和string容器&l;a title=\&q;#字符串和string容器\&q; href=\&q;#字符串和string容器\&q;&g;&l;/a&g;&l;/h2&g;\n&l;figure class=\&q;highlight c++\&q;&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;5&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;6&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;7&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;8&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;9&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;10&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;11&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;12&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;13&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;14&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;15&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;16&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;17&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;18&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;19&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;20&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;21&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;22&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;23&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;24&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;25&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;26&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;27&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;28&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;29&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;30&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;31&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;32&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;33&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;34&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;35&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;36&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;37&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;38&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;39&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;40&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;41&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;42&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;43&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;44&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;keyword\&q;&g;include&l;/span&g; &l;span class=\&q;string\&q;&g;&a;lt;iostream&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;using&l;/span&g; &l;span class=\&q;keyword\&q;&g;namespace&l;/span&g; std;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;type\&q;&g;int&l;/span&g; &l;span class=\&q;title\&q;&g;main&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g; &l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;comment\&q;&g;// C字符串&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;type\&q;&g;const&l;/span&g; &l;span class=\&q;type\&q;&g;char&l;/span&g;* str = &l;span class=\&q;string\&q;&g;&a;quot;code&a;quot;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;type\&q;&g;char&l;/span&g; str_1[&l;span class=\&q;number\&q;&g;5&l;/span&g;] = &a;#123; &l;span class=\&q;string\&q;&g;&a;#x27;c&a;#x27;&l;/span&g;, &l;span class=\&q;string\&q;&g;&a;#x27;o&a;#x27;&l;/span&g;, &l;span class=\&q;string\&q;&g;&a;#x27;d&a;#x27;&l;/span&g;, &l;span class=\&q;string\&q;&g;&a;#x27;e&a;#x27;&l;/span&g;, &l;span class=\&q;literal\&q;&g;NULL&l;/span&g; &a;#125;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcout &a;lt;&a;lt; str_1 &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;______________________&a;quot;&l;/span&g; &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;comment\&q;&g;// string容器&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;comment\&q;&g;// string类有需多重载与操作方法&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tstring s_1 = &l;span class=\&q;string\&q;&g;&a;quot;foobar&a;quot;&l;/span&g;;\t&l;span class=\&q;comment\&q;&g;// &l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;function\&q;&g;string &l;span class=\&q;title\&q;&g;s_2&l;/span&g;&l;span class=\&q;params\&q;&g;(s_1)&l;/span&g;&l;/span&g;;\t\t&l;span class=\&q;comment\&q;&g;// 拷贝构造&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;function\&q;&g;string &l;span class=\&q;title\&q;&g;s_3&l;/span&g;&l;span class=\&q;params\&q;&g;(str)&l;/span&g;&l;/span&g;;\t\t&l;span class=\&q;comment\&q;&g;// 字符串指针&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;function\&q;&g;string &l;span class=\&q;title\&q;&g;s_4&l;/span&g;&l;span class=\&q;params\&q;&g;(&l;span class=\&q;string\&q;&g;&a;quot;code&a;quot;&l;/span&g;)&l;/span&g;&l;/span&g;;\t\t&l;span class=\&q;comment\&q;&g;// &l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;function\&q;&g;string &l;span class=\&q;title\&q;&g;s_5&l;/span&g;&l;span class=\&q;params\&q;&g;(s_1, &l;span class=\&q;number\&q;&g;3&l;/span&g;, &l;span class=\&q;number\&q;&g;3&l;/span&g;)&l;/span&g;&l;/span&g;;\t\t&l;span class=\&q;comment\&q;&g;// bar&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcout &a;lt;&a;lt; s_5 &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;comment\&q;&g;// string(const string&a;amp; rhs, unsigned int pos, unsigned int n) ;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;function\&q;&g;string &l;span class=\&q;title\&q;&g;s_6&l;/span&g;&l;span class=\&q;params\&q;&g;(s_1, &l;span class=\&q;number\&q;&g;5&l;/span&g;)&l;/span&g;&l;/span&g;;\t\t\t&l;span class=\&q;comment\&q;&g;// r&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcout &a;lt;&a;lt; s_6 &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;function\&q;&g;string &l;span class=\&q;title\&q;&g;s_7&l;/span&g;&l;span class=\&q;params\&q;&g;(&l;span class=\&q;number\&q;&g;10&l;/span&g;, &l;span class=\&q;string\&q;&g;&a;#x27;c&a;#x27;&l;/span&g;)&l;/span&g;&l;/span&g;;\t\t&l;span class=\&q;comment\&q;&g;// cccccccccc&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcout &a;lt;&a;lt; s_7 &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcout &a;lt;&a;lt; &l;span class=\&q;built_in\&q;&g;string&l;/span&g;(&l;span class=\&q;string\&q;&g;&a;quot;foo&a;quot;&l;/span&g;) + &l;span class=\&q;built_in\&q;&g;string&l;/span&g;(&l;span class=\&q;string\&q;&g;&a;quot;bar&a;quot;&l;/span&g;) &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcout &a;lt;&a;lt; (&l;span class=\&q;built_in\&q;&g;string&l;/span&g;(&l;span class=\&q;string\&q;&g;&a;quot;aaa&a;quot;&l;/span&g;) &a;lt; &l;span class=\&q;built_in\&q;&g;string&l;/span&g;(&l;span class=\&q;string\&q;&g;&a;quot;ddd&a;quot;&l;/span&g;) )&a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcout &a;lt;&a;lt; &l;span class=\&q;built_in\&q;&g;string&l;/span&g;(&l;span class=\&q;string\&q;&g;&a;quot;012345&a;quot;&l;/span&g;)[&l;span class=\&q;number\&q;&g;3&l;/span&g;] &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;comment\&q;&g;// 常用方法&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcout &a;lt;&a;lt; &l;span class=\&q;built_in\&q;&g;string&l;/span&g;(&l;span class=\&q;string\&q;&g;&a;quot;g&a;quot;&l;/span&g;).&l;span class=\&q;built_in\&q;&g;append&l;/span&g;(&l;span class=\&q;string\&q;&g;&a;quot;o&a;quot;&l;/span&g;).&l;span class=\&q;built_in\&q;&g;append&l;/span&g;(&l;span class=\&q;string\&q;&g;&a;quot;o&a;quot;&l;/span&g;).&l;span class=\&q;built_in\&q;&g;append&l;/span&g;(&l;span class=\&q;string\&q;&g;&a;quot;d&a;quot;&l;/span&g;) &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcout &a;lt;&a;lt; &l;span class=\&q;built_in\&q;&g;string&l;/span&g;(&l;span class=\&q;string\&q;&g;&a;quot;01234567&a;quot;&l;/span&g;).&l;span class=\&q;built_in\&q;&g;substr&l;/span&g;(&l;span class=\&q;number\&q;&g;3&l;/span&g;, &l;span class=\&q;number\&q;&g;2&l;/span&g;) &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcout &a;lt;&a;lt; &l;span class=\&q;built_in\&q;&g;string&l;/span&g;(&l;span class=\&q;string\&q;&g;&a;quot;012345&a;quot;&l;/span&g;).&l;span class=\&q;built_in\&q;&g;find&l;/span&g;(&l;span class=\&q;string\&q;&g;&a;quot;3&a;quot;&l;/span&g;) &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcout &a;lt;&a;lt; &l;span class=\&q;built_in\&q;&g;string&l;/span&g;(&l;span class=\&q;string\&q;&g;&a;quot;123&a;quot;&l;/span&g;).&l;span class=\&q;built_in\&q;&g;length&l;/span&g;() &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\ts_1.&l;span class=\&q;built_in\&q;&g;swap&l;/span&g;(s_2);\t\t&l;span class=\&q;comment\&q;&g;// s_1 指向 s_2&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcout &a;lt;&a;lt; s_1 &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;   &a;quot;&l;/span&g; &a;lt;&a;lt; s_2 &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;comment\&q;&g;// ....&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;keyword\&q;&g;return&l;/span&g; &l;span class=\&q;number\&q;&g;0&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;\n&l;h2 id=\&q;指针与引用\&q;&g;指针与引用&l;a title=\&q;#指针与引用\&q; href=\&q;#指针与引用\&q;&g;&l;/a&g;&l;/h2&g;\n&l;p&g;所以说指针是一种底层的机制。引用则是一种较高层的机制，在语言概念上它是另一变量的&a;quot;别名&a;quot;，把地址这一概念隐藏起来了，但在引用运行时的实现机制中，还不得不借助于地址。二者可以说是殊途同归，差异主要是语言形式, 最后都是靠存储地址来实现的。&l;code&g;引用相当于指针常量, 引用是为了方便使用对指针的包装&l;/code&g;.&l;/p&g;\n&l;p&g;有些时候引用不能代替使用指针:&l;/p&g;\n&l;ul&g;\n&l;li&g;使用函数指针，由于没有函数引用，所以函数指针无法被引用替代。&l;/li&g;\n&l;li&g;用 new 动态创建的对象或数组，需要用指针来存储它的地址。&l;/li&g;\n&l;li&g;以数组形式传递大批量数据时，需要用指针类型接收参数&l;/li&g;\n&l;/ul&g;\n&l;p&g;&l;code&g;T &a;amp;s = *(new T()); delete &a;amp;s;&l;/code&g;, 这样其实可以, 一般不用.&l;/p&g;\n&l;h3 id=\&q;指针类型安全性\&q;&g;指针类型安全性&l;a title=\&q;#指针类型安全性\&q; href=\&q;#指针类型安全性\&q;&g;&l;/a&g;&l;/h3&g;\n&l;p&g;&l;code&g;reinterpret_cast&l;/code&g;可以将一种类型的指针转换为另一种类型的指针. 具有很大的危险性和不确定性，c++ 标准只保证用 reinterpret_cast 转换后与再转换回的值相同.&l;/p&g;\n&l;p&g;C 允许 void 指针隐含地转换为其他任何类型的指针，而 c++ 规定这种情况只能显式转换，这是 c++ 相比的一个安全之处。&l;/p&g;\n&l;p&g;void 指针的另一个用途在于，有时一个指针可能会指向不同类型的对象， void 指针只起一定的传递作用，最终使用该指针时，还需要根据情况将指针还原为它原先的类型。&l;/p&g;\n&l;p&g;有很多从C标准 继承而来的函数会使用 void 指针作为参数和返回值，例如将二段内存空间设为一个固定值 (memset) 、比较两段内存空间 (memcmp) 、复制一段内存空间(memcpy) 、动态分配一段内存空间 (malloc) 、释放动态分配的内存空间 (free) 等，这些操作都是不管具体的数据类型，把不同类型的数据当作无差别的二进制序列。其中，动态内存管理的函数( malloc free 等)已经可以被 c++ new delete 关键字全面替代，而直接内存操作的函数 (memset memcmp , memcpy 等)只能针对对象的二进制表示进行处理，不符合面向对象的要求，一般不用，至多对一些基本数据类型的数组使用。&l;/p&g;\n&l;p&g;总结起来，保证指针类型安全性的办法有以下几种。&l;/p&g;\n&l;ul&g;\n&l;li&g;除非非常特殊的底层用途， reinterprt_cast 不要用。&l;/li&g;\n&l;li&g;继承标准 的涉及 void 指针的函数，一般不要用，至多对一些基本数据类型及其数组使用。&l;/li&g;\n&l;li&g;如果一定需要用 void 指针，那么用 static_cast void 指针转换为具体类型的指针时，一定要转换为最初的类型(即当初转换到该 void 指针的指针类型)。&l;/li&g;\n&l;/ul&g;\n&l;h3 id=\&q;堆对象管理\&q;&g;堆对象管理&l;a title=\&q;#堆对象管理\&q; href=\&q;#堆对象管理\&q;&g;&l;/a&g;&l;/h3&g;\n&l;p&g;通常使用的局部变量，在运行栈上分配空间，空间分配和释放的过程是由编译器生成的代码控制的，一个函数返回后相应的空间会自行释放;而静态生存期变量，其空间的分配是由连接器完成的，它们占用的空间大小始终是固定的，在运行过程中无须释放。然而，用 new 在程序运行时动态创建的堆对象，则必须由程序用 delete 显式删除。如果动态生成的对象不再需要使用也不用 delete 删除，会使得这部分空间始终不能被其他对象利用，造成内存资源的泄漏。&l;/p&g;\n&l;p&g;有时确实需要在&l;code&g;不同类之间转移堆对象的归属&l;/code&g;。例如，如果一个函数需要返回一个对象，为了避免复制构造函数因传递返回值被调用(因为大对象的复制构造会有较大开销) ，可以在函数内用 new 建立该对象，再将该对象的地址返回，但这就要求调用这个函数的类确保这个返回的堆对象最后被删除。每当遇到这种情况，都应当在函数的注释中明确指出，函数的调用者应当负责删除函数所返回的堆对象。这实际上是类的对外接口约定的一部分，不过能否正确履行不由编译器来检查，而需完全由编程者来保证。&l;/p&g;\n&l;p&g;解决动态对象的管理问题，也可以借助于&l;code&g;共享指针&l;/code&g;。共享指针是一种具有指针行为的特殊的类，它会在&l;code&g;指向一个堆对象的所有指针都不再有效时，自动将其删除&l;/code&g;。虽然使用共享指针要付出一定的效率代价，但安全性很好，容易使用。&l;/p&g;\n&l;h3 id=\&q;cosnt_cast\&q;&g;cosnt_cast&l;a title=\&q;#cosnt_cast\&q; href=\&q;#cosnt_cast\&q;&g;&l;/a&g;&l;/h3&g;\n&l;p&g;&l;code&g;const_cast&l;/code&g; 只用于将&l;code&g;常指针转换为普通指针，将常引用转换为普通引用&l;/code&g;，而不用来将常对象转换为普通对象，因为这是没有意义的。因为对象(而非引用)的转换会生成对象的副本，而使用常对象本来就可以直接生成普通对象的副本.&l;/p&g;\n&l;figure class=\&q;highlight c++\&q;&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;5&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;6&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;7&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;8&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;9&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;10&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;11&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;keyword\&q;&g;include&l;/span&g; &l;span class=\&q;string\&q;&g;&a;lt;iostream&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;using&l;/span&g; &l;span class=\&q;keyword\&q;&g;namespace&l;/span&g; std;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;type\&q;&g;int&l;/span&g; &l;span class=\&q;title\&q;&g;main&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g; &l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;type\&q;&g;int&l;/span&g; a = &l;span class=\&q;number\&q;&g;100&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;type\&q;&g;const&l;/span&g; &l;span class=\&q;type\&q;&g;int&l;/span&g;* ptr = &a;amp;a;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;comment\&q;&g;//*ptr = 88;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;type\&q;&g;int&l;/span&g;* q = &l;span class=\&q;built_in\&q;&g;const_cast&l;/span&g;&a;lt;&l;span class=\&q;type\&q;&g;int&l;/span&g;* &a;gt;(ptr);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t*q = &l;span class=\&q;number\&q;&g;88&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;keyword\&q;&g;return&l;/span&g; &l;span class=\&q;number\&q;&g;0&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;\n&l;h2 id=\&q;知识点:\&q;&g;知识点:&l;a title=\&q;#知识点:\&q; href=\&q;#知识点:\&q;&g;&l;/a&g;&l;/h2&g;\n&l;ol&g;\n&l;li&g;\n&l;p&g;指针取值两种方式&l;/p&g;\n &l;figure class=\&q;highlight c++\&q;&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;5&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;6&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;7&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;8&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;9&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;type\&q;&g;int&l;/span&g; &l;span class=\&q;title\&q;&g;main&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g; &l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;type\&q;&g;int&l;/span&g; nums[] = &a;#123;&l;span class=\&q;number\&q;&g;0&l;/span&g;, &l;span class=\&q;number\&q;&g;1&l;/span&g;, &l;span class=\&q;number\&q;&g;2&l;/span&g;, &l;span class=\&q;number\&q;&g;3&l;/span&g;, &l;span class=\&q;number\&q;&g;4&l;/span&g;, &l;span class=\&q;number\&q;&g;5&l;/span&g;, &l;span class=\&q;number\&q;&g;6&l;/span&g;, &l;span class=\&q;number\&q;&g;7&l;/span&g;&a;#125;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;type\&q;&g;int&l;/span&g;* p = &a;amp;nums[&l;span class=\&q;number\&q;&g;4&l;/span&g;];&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;cout &a;lt;&a;lt; p[&l;span class=\&q;number\&q;&g;0&l;/span&g;] &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;cout &a;lt;&a;lt; p[&l;span class=\&q;number\&q;&g;-2&l;/span&g;] &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;cout &a;lt;&a;lt; *(p + &l;span class=\&q;number\&q;&g;2&l;/span&g;) &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;return&l;/span&g; &l;span class=\&q;number\&q;&g;0&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;\n&l;/li&g;\n&l;li&g;\n&l;p&g;常引用指向的对象可以是常量, &l;code&g;const int&a;amp; a = 1;&l;/code&g;&l;/p&g;\n&l;/li&g;\n&l;/ol&g;\n&l;p&g;&l;strong&g;参考&l;/strong&g;&l;/p&g;\n&l;ol&g;\n&l;li&g;《C++语言程序设计（第4版）》 IBSN 9787302227984&l;/li&g;\n&l;li&g;&l;a href=\&q;https://zh.cppreference.com/w/%E9%A6%96%E9%A1%B5\&q; target=\&q;_blank\&q;&g;C++参考手册&l;/a&g;&l;/li&g;\n&l;li&g;&l;a href=\&q;https://learn.microsoft.com/zh-cn/cpp/standard-library/iomanip?view=msvc-170\&q; target=\&q;_blank\&q;&g;Microsoft C++文档&l;/a&g;&l;/li&g;\n&l;/ol&g;\n&q;,&q;prev&q;:{&q;title&q;:&q;[VS]使用开发人员PowerShell查看类信息&q;,&q;link&q;:&q;2023/04/27/[VS]使用开发人员PowerShell查看类信息&q;},&q;next&q;:{&q;title&q;:&q;[C++笔记]类与对象&q;,&q;link&q;:&q;2023/04/26/[C++笔记]类与对象&q;},&q;plink&q;:&q;https://s1acr.github.io/2023/04/26/[C++笔记]指针/&q;,&q;toc&q;:[{&q;id&q;:&q;指针&q;,&q;title&q;:&q;指针&q;,&q;index&q;:&q;1&q;,&q;children&q;:[{&q;id&q;:&q;函数指针&q;,&q;title&q;:&q;函数指针&q;,&q;index&q;:&q;1.1&q;},{&q;id&q;:&q;数组指针&q;,&q;title&q;:&q;数组指针&q;,&q;index&q;:&q;1.2&q;},{&q;id&q;:&q;this指针&q;,&q;title&q;:&q;this指针&q;,&q;index&q;:&q;1.3&q;},{&q;id&q;:&q;指向类的成员的指针&q;,&q;title&q;:&q;指向类的成员的指针&q;,&q;index&q;:&q;1.4&q;}]},{&q;id&q;:&q;动态内存分配&q;,&q;title&q;:&q;动态内存分配&q;,&q;index&q;:&q;2&q;},{&q;id&q;:&q;字符串和string容器&q;,&q;title&q;:&q;字符串和string容器&q;,&q;index&q;:&q;3&q;},{&q;id&q;:&q;指针与引用&q;,&q;title&q;:&q;指针与引用&q;,&q;index&q;:&q;4&q;,&q;children&q;:[{&q;id&q;:&q;指针类型安全性&q;,&q;title&q;:&q;指针类型安全性&q;,&q;index&q;:&q;4.1&q;},{&q;id&q;:&q;堆对象管理&q;,&q;title&q;:&q;堆对象管理&q;,&q;index&q;:&q;4.2&q;},{&q;id&q;:&q;cosnt_cast&q;,&q;title&q;:&q;cosnt_cast&q;,&q;index&q;:&q;4.3&q;}]},{&q;id&q;:&q;知识点:&q;,&q;title&q;:&q;知识点:&q;,&q;index&q;:&q;5&q;}],&q;reward&q;:true,&q;copyright&q;:{&q;author&q;:&q;slacr_&q;,&q;license&q;:&q;&l;a href=\&q;https://creativecommons.org/licenses/by-nc-sa/4.0/\&q; target=\&q;_blank\&q;&g;&l;img src = \&q;/lib/cc-by-nc-sa.svg\&q;&g;CC BY-NC-ND 4.0&l;/a&g;&q;,&q;published&q;:&q;April 26, 2023&q;,&q;updated&q;:&q;April 26, 2023&q;},&q;reading_time&q;:&q;3042 words in 20 min&q;}}</script></head>
<body lang="en"><!-- hexo injector body_begin start --><is-a class="φh" ng-version="12.1.0"><is-k class="φcu"><div class="φdg"><section class="φdh"><header class="φcv"><i class="φda"></i><!----><div issnippet="" class="φcx"><img src="https://thirdqq.qlogo.cn/g?b=oidb&amp;k=ia9j8LGcEXYic3XyY1h1ibnxg&amp;s=0&amp;rand=1680719837">
</div><!----><!----><a href="" class="φcz">slacr_</a><p class="φcy">Crap Programmer, College Student From CN. Idealist and Minimalism, life-long learner. I was lucky to find out what I truly have passion for. 🚬.</p></header><div class="φdl"><a routerlink="/archives" class="φdm" href="/archives"><span>57</span><span>Archives</span></a><a class="φdm" href="/categories/C"><span>16</span><span>Categories</span></a><!----><a routerlink="/tags" class="φdm" href="/tags"><span>3</span><span>Tags</span></a><!----></div><!----><nav class="φdi"><a class="φdj" href="/">Home</a><!----><!----><!----><a class="φdj" href="/search">Search</a><!----><!----><!----><a class="φdj" href="/link">Link</a><!----><!----><!----><a class="φdj" href="/log">Log</a><!----><!----><!----><!----></nav><!----><div issnippet="" class="φb"><is-palette col="5" theme="#673ab7,#3f51b5,#2196f3,#009688,#4caf50,#ff9800,#ff5722,#795548,#607D8B,#2a2b33"></is-palette></div><div issnippet="" class="φb">
</div><div issnippet="" class="φb">
</div><div issnippet="" class="φb">
</div><!----><!----><!----></section><footer class="φdb φdc"><div class="φde"><!----><a target="_blank" rel="external nofollow noopener" class="φdf" title="email me" href="mailto:diogocdiogocosta3346@gmail.com"><i class="iκ-email"></i></a><!----><!----><!----><a target="_blank" rel="external nofollow noopener" class="φdf" title="Feed" href="/atom.xml"><i class="iκ-feed"></i></a><!----><!----><!----><a target="_blank" rel="external nofollow noopener" class="φdf" title="github" href="https://github.com/s1acr"><i class="iκ-github"></i></a><!----><!----><!----><a target="_blank" rel="external nofollow noopener" class="φdf" title="qqGroup" href="https://qm.qq.com/cgi-bin/qm/qr?k=CwUa3gRbNtBAJRLHVwFiM4KZBiuqBSk9&amp;jump_from=webapi&amp;authKey=FhTodgrqXmM0pc0x/fT1U9yAtc6yJlWqoc5qnT5QepMGdVuCUxRlmY3bGklQd7fW"><i class="iκ-qq"></i></a><!----><!----><!----></div><!----><p class="φe">© 2023 <span id="sunflowerArea"><span id="sunflower">🌻</span> <a id="mySign" href="javascript:;"> Slacr F</a></span></p><!----><!----><p class="φe"><span id="busuanzi_container_site_uv" style="display:none">Total <b><span id="busuanzi_value_site_uv"></span></b> Visitors </span><span id="busuanzi_container_site_pv" style="display:none"><b><span id="busuanzi_value_site_pv"></span></b> Views</span><br> Hosted by <a target="_blank" rel="external nofollow" href="https://pages.github.com/"><b>Github Pages</b></a></p><!----></footer></div></is-k><div class="φj"><div class="φi"><div class="φn"><main class="φm"><router-outlet></router-outlet><is-r class="φet"><header class="φfd φfe" style="background-image:;background-color:;"><div class="φfm"><h1 class="φfp">[C++笔记]指针</h1><!----><p class="φff"><span class="φfg φfk">Apr 26, 2023</span><a class="φfg φfi" href="/categories/C%2B%2B">C++</a><!----><span class="φfg φfj">3042 words in 20 min</span><!----><!----></p><!----><!----></div></header><article itemscope="" itemtype="http://schema.org/Article" class="φew" data-title="[C++笔记]指针"><div itemprop="articleBody" issnippet="" iszoomable="" class="φe"><blockquote>
<p>C++笔记</p>
</blockquote>
<h2 id="指针">指针<a title="#指针" href="#指针"></a></h2>
<h3 id="函数指针">函数指针<a title="#函数指针" href="#函数指针"></a></h3>
<p>函数名就表示函数的代码在内存中的起始地址。调用函数的通常形式"函数名(参数表)“的实质就是"函数代码首地址(参数表)”。<br>
函数名在表示函数代码起始地址的同时，也包括函数的返回值类型和参数的个数、类型、排列次序等信息。因此在通过函数名调用函数时，编译系统能够自动检查实参与形参是否相符，用函数的返回值参与其他运算时，能自动进行类型一致性检查。</p>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test_01</span><span class="params">(<span class="type">float</span>)</span> </span>{</span><br><span class="line">	cout &lt;&lt; <span class="string">"test_01"</span> &lt;&lt; endl;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test_02</span><span class="params">(<span class="type">float</span> f)</span> </span>{</span><br><span class="line">	cout &lt;&lt; <span class="string">"test_02_"</span> &lt;&lt; f &lt;&lt; endl;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test_03</span><span class="params">(<span class="type">int</span> i)</span> </span>{</span><br><span class="line">	cout &lt;&lt; <span class="string">"test_03_"</span> &lt;&lt; i &lt;&lt; endl;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">typedef</span> <span class="title">void</span> <span class="params">(*fp)</span><span class="params">(<span class="type">int</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">	<span class="built_in">void</span> (*func_ptr)(<span class="type">float</span>);</span><br><span class="line">	func_ptr = test_01;			<span class="comment">// 定义的函数指针必须与test_01相同 void(*)(float)</span></span><br><span class="line">	<span class="built_in">func_ptr</span>(<span class="number">0.1</span>);</span><br><span class="line"></span><br><span class="line">	func_ptr = test_02;</span><br><span class="line">	<span class="built_in">func_ptr</span>(<span class="number">0.2</span>);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">void</span> (*func_ptr_2)(<span class="type">int</span>);</span><br><span class="line">	func_ptr_2 = test_03;</span><br><span class="line">	<span class="built_in">func_ptr_2</span>(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">	fp my_fptr = test_03;	<span class="comment">// 使用自定义的函数指针类型</span></span><br><span class="line">	<span class="built_in">my_fptr</span>(<span class="number">999</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h3 id="数组指针">数组指针<a title="#数组指针" href="#数组指针"></a></h3>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">	<span class="type">const</span> <span class="type">int</span> a = <span class="number">5</span>;</span><br><span class="line">	<span class="type">int</span> arr[a<span class="number">-2</span>][a<span class="number">-1</span>][a];	</span><br><span class="line"></span><br><span class="line">	<span class="built_in">int</span>(*arr_ptr)[a<span class="number">-1</span>][a] = arr;   <span class="comment">//	三维数组的指针 arr_ptr既是指针也是数组名</span></span><br><span class="line">	cout &lt;&lt; arr_ptr[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>] &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	arr_ptr = <span class="keyword">new</span> <span class="type">int</span>[a<span class="number">-2</span>][a<span class="number">-1</span>][a]();</span><br><span class="line">	cout &lt;&lt; arr_ptr[<span class="number">1</span>][<span class="number">1</span>][<span class="number">1</span>] &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; a - <span class="number">2</span>; i++) {</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; a - <span class="number">1</span>; j++) {</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; a; k++) {</span><br><span class="line">				*(*(*(arr_ptr + i) + j) + k) = (i+<span class="number">1</span>) * <span class="number">100</span> + (j+<span class="number">1</span>) * <span class="number">10</span> + (k+<span class="number">1</span>);</span><br><span class="line">			} <span class="comment">// 用指针偏移量访问数组</span></span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; a - <span class="number">2</span>; i++) {</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; a - <span class="number">1</span>; j++) {</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; a; k++) {</span><br><span class="line">				cout &lt;&lt; arr_ptr[i][j][k] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">			} <span class="comment">// 用下标访问数组</span></span><br><span class="line">			cout &lt;&lt; endl;</span><br><span class="line">		}</span><br><span class="line">		cout &lt;&lt; <span class="string">"==================="</span> &lt;&lt; endl;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">delete</span>[] arr_ptr;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h3 id="this指针">this指针<a title="#this指针" href="#this指针"></a></h3>
<p>this 指针实际上是类成员函数的一个隐含参数。在调用类的成员函数时，<code>目的对象的地址会自动作为该参数的值</code>，传递给被调用的成员函数，这样被调函数就能够通过this 指针来访问目的对象的数据成员。对于常成员函数来说，这个隐含的参数是常指针类型的。</p>
<h3 id="指向类的成员的指针">指向类的成员的指针<a title="#指向类的成员的指针" href="#指向类的成员的指针"></a></h3>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">P</span> {</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="type">int</span> y = <span class="number">100</span>;</span><br><span class="line">	<span class="type">int</span> x;</span><br><span class="line">	<span class="type">static</span> <span class="type">int</span> z;  <span class="comment">// 引用性声明</span></span><br><span class="line">	<span class="built_in">P</span>(){}</span><br><span class="line">	<span class="built_in">P</span>(<span class="type">int</span> x) : <span class="built_in">x</span>(x) {}</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">(string s)</span> <span class="type">const</span></span>{</span><br><span class="line">		cout &lt;&lt; s &lt;&lt; endl;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">st</span><span class="params">(string s)</span></span>;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> P::z;   <span class="comment">// 定义性声明, 静态成员默认初始值0, 也可以指定值.</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">P::st</span><span class="params">(string s)</span> </span>{</span><br><span class="line">	cout &lt;&lt; s &lt;&lt; endl;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">	<span class="function">P <span class="title">p</span><span class="params">(<span class="number">1</span>)</span></span>;</span><br><span class="line">	P* PTR = &amp;p;</span><br><span class="line">	<span class="type">int</span> P::* ptr;   <span class="comment">// 声明指向类中数据成员的指针</span></span><br><span class="line">	ptr = &amp;P::x;	<span class="comment">// 初始化</span></span><br><span class="line">	cout &lt;&lt; p.*ptr &lt;&lt; endl;	<span class="comment">// 使用对象名调用</span></span><br><span class="line">	cout &lt;&lt; PTR-&gt;*ptr &lt;&lt; endl;  <span class="comment">// 使用对象指针调用</span></span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; &amp;p &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; PTR &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; &amp;(p.*ptr) &lt;&lt; endl;	<span class="comment">// 对象名的地址就是第一个元素的地址</span></span><br><span class="line">						</span><br><span class="line">	<span class="built_in">void</span> (P:: * f_ptr) (string) <span class="type">const</span>;	<span class="comment">// 成员函数指针</span></span><br><span class="line">	f_ptr = &amp;P::test;				<span class="comment">// 初始化</span></span><br><span class="line">	(p.*f_ptr)(<span class="string">"good"</span>);				<span class="comment">// 调用</span></span><br><span class="line">	(PTR-&gt;*f_ptr)(<span class="string">"nice"</span>);	</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span>* s_ptr = &amp;P::z;			<span class="comment">// 静态成员的指针, 全局变量</span></span><br><span class="line">	cout &lt;&lt; (*s_ptr) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">void</span> (* sf_ptr)(string) = &amp;P::st;		<span class="comment">// &amp; 可写可不写</span></span><br><span class="line">	(sf_ptr)(<span class="string">"well"</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="动态内存分配">动态内存分配<a title="#动态内存分配" href="#动态内存分配"></a></h2>
<p>在程序运行过程中申请和释放的存储单元也称为堆对象，申请和释放过程一般称为建立和删除。<br>
new 数据类型(初始化参数列表);</p>
<p>如果内存申请成功. new 运算便返回一个指向新分配内存首地址的类型的指针，可以通过这个指针对堆对象进行访问. 如果申请失败，会抛出异常.<br>
对于基本数据类型，如采不希望在分配内存后设定初值，可以把括号省去<br>
如采保留括号，但括号中不写任何数值，则表示用。对该对象初始化</p>
<p>delete 指针名;<br>
对象的析构函数将被调用。<br>
对于用 new 建立的对象，只能使用 delete 进行<code>一次删除</code>操作</p>
<p>new 分配的内存，必须用 delete 加以释放，否则会导致动态分配的内存无法回收，使得程序占据的内存越来越大，造成"内存泄漏"。</p>
<p>new 动态创建一维数组时，在方括号后仍然可以加小括号"()", 初始化0;</p>
<p>利用动态内存分配操作实现了数组的动态创建，使得数组元素的个数可以根据运行时的需要而确定。但是建立和删除数组的过程使得程序略显烦琐，更好的方法是将数组的建立和删除过程封装起来，形成一个<code>动态数组类</code>。</p>
<p>assert 的含义是"断言"，它是标准 c+十的 cassert 头文件中定义的一个宏，用来判断一个条件表达式的值是否为 true ，如果不为 true ，程序会中止，并且报告出错误，这样就很容易将错误定位。一个程序一般可以以两种模式编译 <code>调试(debug) 模式和发行( release) 模式</code>， assert 只在调试模式下生效，而在发行模式下不执行任何操作，这样兼顾了调试模式的调试需求和发行模式的效率需求。</p>
<h2 id="字符串和string容器">字符串和string容器<a title="#字符串和string容器" href="#字符串和string容器"></a></h2>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">	<span class="comment">// C字符串</span></span><br><span class="line">	<span class="type">const</span> <span class="type">char</span>* str = <span class="string">"code"</span>;</span><br><span class="line">	<span class="type">char</span> str_1[<span class="number">5</span>] = { <span class="string">'c'</span>, <span class="string">'o'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>, <span class="literal">NULL</span> };</span><br><span class="line">	cout &lt;&lt; str_1 &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">"______________________"</span> &lt;&lt; endl;</span><br><span class="line">	<span class="comment">// string容器</span></span><br><span class="line">	<span class="comment">// string类有需多重载与操作方法</span></span><br><span class="line">	string s_1 = <span class="string">"foobar"</span>;	<span class="comment">// </span></span><br><span class="line">	<span class="function">string <span class="title">s_2</span><span class="params">(s_1)</span></span>;		<span class="comment">// 拷贝构造</span></span><br><span class="line">	<span class="function">string <span class="title">s_3</span><span class="params">(str)</span></span>;		<span class="comment">// 字符串指针</span></span><br><span class="line">	<span class="function">string <span class="title">s_4</span><span class="params">(<span class="string">"code"</span>)</span></span>;		<span class="comment">// </span></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	<span class="function">string <span class="title">s_5</span><span class="params">(s_1, <span class="number">3</span>, <span class="number">3</span>)</span></span>;		<span class="comment">// bar</span></span><br><span class="line">	cout &lt;&lt; s_5 &lt;&lt; endl;</span><br><span class="line">	<span class="comment">// string(const string&amp; rhs, unsigned int pos, unsigned int n) ;</span></span><br><span class="line"></span><br><span class="line">	<span class="function">string <span class="title">s_6</span><span class="params">(s_1, <span class="number">5</span>)</span></span>;			<span class="comment">// r</span></span><br><span class="line">	cout &lt;&lt; s_6 &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="function">string <span class="title">s_7</span><span class="params">(<span class="number">10</span>, <span class="string">'c'</span>)</span></span>;		<span class="comment">// cccccccccc</span></span><br><span class="line">	cout &lt;&lt; s_7 &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="built_in">string</span>(<span class="string">"foo"</span>) + <span class="built_in">string</span>(<span class="string">"bar"</span>) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; (<span class="built_in">string</span>(<span class="string">"aaa"</span>) &lt; <span class="built_in">string</span>(<span class="string">"ddd"</span>) )&lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="built_in">string</span>(<span class="string">"012345"</span>)[<span class="number">3</span>] &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 常用方法</span></span><br><span class="line">	cout &lt;&lt; <span class="built_in">string</span>(<span class="string">"g"</span>).<span class="built_in">append</span>(<span class="string">"o"</span>).<span class="built_in">append</span>(<span class="string">"o"</span>).<span class="built_in">append</span>(<span class="string">"d"</span>) &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="built_in">string</span>(<span class="string">"01234567"</span>).<span class="built_in">substr</span>(<span class="number">3</span>, <span class="number">2</span>) &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="built_in">string</span>(<span class="string">"012345"</span>).<span class="built_in">find</span>(<span class="string">"3"</span>) &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="built_in">string</span>(<span class="string">"123"</span>).<span class="built_in">length</span>() &lt;&lt; endl;</span><br><span class="line">	s_1.<span class="built_in">swap</span>(s_2);		<span class="comment">// s_1 指向 s_2</span></span><br><span class="line">	cout &lt;&lt; s_1 &lt;&lt; <span class="string">"   "</span> &lt;&lt; s_2 &lt;&lt; endl;</span><br><span class="line">	<span class="comment">// ....</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h2 id="指针与引用">指针与引用<a title="#指针与引用" href="#指针与引用"></a></h2>
<p>所以说指针是一种底层的机制。引用则是一种较高层的机制，在语言概念上它是另一变量的"别名"，把地址这一概念隐藏起来了，但在引用运行时的实现机制中，还不得不借助于地址。二者可以说是殊途同归，差异主要是语言形式, 最后都是靠存储地址来实现的。<code>引用相当于指针常量, 引用是为了方便使用对指针的包装</code>.</p>
<p>有些时候引用不能代替使用指针:</p>
<ul>
<li>使用函数指针，由于没有函数引用，所以函数指针无法被引用替代。</li>
<li>用 new 动态创建的对象或数组，需要用指针来存储它的地址。</li>
<li>以数组形式传递大批量数据时，需要用指针类型接收参数</li>
</ul>
<p><code>T &amp;s = *(new T()); delete &amp;s;</code>, 这样其实可以, 一般不用.</p>
<h3 id="指针类型安全性">指针类型安全性<a title="#指针类型安全性" href="#指针类型安全性"></a></h3>
<p><code>reinterpret_cast</code>可以将一种类型的指针转换为另一种类型的指针. 具有很大的危险性和不确定性，c++ 标准只保证用 reinterpret_cast 转换后与再转换回的值相同.</p>
<p>C 允许 void 指针隐含地转换为其他任何类型的指针，而 c++ 规定这种情况只能显式转换，这是 c++ 相比的一个安全之处。</p>
<p>void 指针的另一个用途在于，有时一个指针可能会指向不同类型的对象， void 指针只起一定的传递作用，最终使用该指针时，还需要根据情况将指针还原为它原先的类型。</p>
<p>有很多从C标准 继承而来的函数会使用 void 指针作为参数和返回值，例如将二段内存空间设为一个固定值 (memset) 、比较两段内存空间 (memcmp) 、复制一段内存空间(memcpy) 、动态分配一段内存空间 (malloc) 、释放动态分配的内存空间 (free) 等，这些操作都是不管具体的数据类型，把不同类型的数据当作无差别的二进制序列。其中，动态内存管理的函数( malloc free 等)已经可以被 c++ new delete 关键字全面替代，而直接内存操作的函数 (memset memcmp , memcpy 等)只能针对对象的二进制表示进行处理，不符合面向对象的要求，一般不用，至多对一些基本数据类型的数组使用。</p>
<p>总结起来，保证指针类型安全性的办法有以下几种。</p>
<ul>
<li>除非非常特殊的底层用途， reinterprt_cast 不要用。</li>
<li>继承标准 的涉及 void 指针的函数，一般不要用，至多对一些基本数据类型及其数组使用。</li>
<li>如果一定需要用 void 指针，那么用 static_cast void 指针转换为具体类型的指针时，一定要转换为最初的类型(即当初转换到该 void 指针的指针类型)。</li>
</ul>
<h3 id="堆对象管理">堆对象管理<a title="#堆对象管理" href="#堆对象管理"></a></h3>
<p>通常使用的局部变量，在运行栈上分配空间，空间分配和释放的过程是由编译器生成的代码控制的，一个函数返回后相应的空间会自行释放;而静态生存期变量，其空间的分配是由连接器完成的，它们占用的空间大小始终是固定的，在运行过程中无须释放。然而，用 new 在程序运行时动态创建的堆对象，则必须由程序用 delete 显式删除。如果动态生成的对象不再需要使用也不用 delete 删除，会使得这部分空间始终不能被其他对象利用，造成内存资源的泄漏。</p>
<p>有时确实需要在<code>不同类之间转移堆对象的归属</code>。例如，如果一个函数需要返回一个对象，为了避免复制构造函数因传递返回值被调用(因为大对象的复制构造会有较大开销) ，可以在函数内用 new 建立该对象，再将该对象的地址返回，但这就要求调用这个函数的类确保这个返回的堆对象最后被删除。每当遇到这种情况，都应当在函数的注释中明确指出，函数的调用者应当负责删除函数所返回的堆对象。这实际上是类的对外接口约定的一部分，不过能否正确履行不由编译器来检查，而需完全由编程者来保证。</p>
<p>解决动态对象的管理问题，也可以借助于<code>共享指针</code>。共享指针是一种具有指针行为的特殊的类，它会在<code>指向一个堆对象的所有指针都不再有效时，自动将其删除</code>。虽然使用共享指针要付出一定的效率代价，但安全性很好，容易使用。</p>
<h3 id="cosnt_cast">cosnt_cast<a title="#cosnt_cast" href="#cosnt_cast"></a></h3>
<p><code>const_cast</code> 只用于将<code>常指针转换为普通指针，将常引用转换为普通引用</code>，而不用来将常对象转换为普通对象，因为这是没有意义的。因为对象(而非引用)的转换会生成对象的副本，而使用常对象本来就可以直接生成普通对象的副本.</p>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">	<span class="type">int</span> a = <span class="number">100</span>;</span><br><span class="line">	<span class="type">const</span> <span class="type">int</span>* ptr = &amp;a;</span><br><span class="line">	<span class="comment">//*ptr = 88;</span></span><br><span class="line">	<span class="type">int</span>* q = <span class="built_in">const_cast</span>&lt;<span class="type">int</span>* &gt;(ptr);</span><br><span class="line">	*q = <span class="number">88</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="知识点:">知识点:<a title="#知识点:" href="#知识点:"></a></h2>
<ol>
<li>
<p>指针取值两种方式</p>
 <figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line"><span class="type">int</span> nums[] = {<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>};</span><br><span class="line"><span class="type">int</span>* p = &amp;nums[<span class="number">4</span>];</span><br><span class="line">cout &lt;&lt; p[<span class="number">0</span>] &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; p[<span class="number">-2</span>] &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; *(p + <span class="number">2</span>) &lt;&lt; endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
</li>
<li>
<p>常引用指向的对象可以是常量, <code>const int&amp; a = 1;</code></p>
</li>
</ol>
<p><strong>参考</strong></p>
<ol>
<li>《C++语言程序设计（第4版）》 IBSN 9787302227984</li>
<li><a href="https://zh.cppreference.com/w/%E9%A6%96%E9%A1%B5" target="_blank">C++参考手册</a></li>
<li><a href="https://learn.microsoft.com/zh-cn/cpp/standard-library/iomanip?view=msvc-170" target="_blank">Microsoft C++文档</a></li>
</ol>
</div><is-e class="φu"><!----><ul class="φy"><li class="φw"><strong class="φx">Author<span>:</span></strong><p class="φv">slacr_</p></li><li class="φw"><strong class="φx">Copyright<span>:</span></strong><p class="φv"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank"><img src="/lib/cc-by-nc-sa.svg">CC BY-NC-ND 4.0</a></p></li><li class="φw"><strong class="φx">Published<span>:</span></strong><p class="φv">April 26, 2023</p></li><li class="φw"><strong class="φx">Updated<span>:</span></strong><p class="φv">April 26, 2023</p></li><!----></ul><!----></is-e><!----><is-j class="φcm"><p class="φcr">Buy me a cup of coffee ☕.</p><div class="φco"><div class="φct"><a class="φcs φa iκ-wechat" style="color:;"></a><a class="φcs" style="color:;">支</a><!----></div><div class="φcq"><!----></div></div></is-j><!----><div><div issnippet="" class="φb">


<link href="https://cdn.jsdelivr.net/gh/s1acr/my_jsDelivr@main/clipboard.css" rel="stylesheet">
</div><!----></div><!----></article><footer class="φex"><!----><div class="φey"><a class="φez φfb" href="/2023/04/27/%5BVS%5D%E4%BD%BF%E7%94%A8%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98PowerShell%E6%9F%A5%E7%9C%8B%E7%B1%BB%E4%BF%A1%E6%81%AF">[VS]使用开发人员PowerShell查看类信息</a><!----><a class="φez φfa" href="/2023/04/26/%5BC%2B%2B%E7%AC%94%E8%AE%B0%5D%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1">[C++笔记]类与对象</a><!----></div><!----></footer><is-d class="φt"><div issnippet=""><div id="vcomments"></div>

</div><!----></is-d><!----><!----><!----></is-r><!----></main><!----></div></div></div><is-f class="φz"><div class="φbi"><span class="φa iκ-up"></span><span class="φa iκ-down"></span><!----><span class="φa iκ-toc"></span><!----><span class="φa iκ-search"></span><!----></div><div class="φbb φbc"><svg class="φbh"><defs><filter id="dp"><feGaussianBlur in="SourceGraphic" stdDeviation="2"></feGaussianBlur></filter></defs><circle filter="url(#dp)" fill="rgba(0,0,0,.3)" cx="50%" cy="52%" r="44%"></circle><circle cx="50%" cy="50%" r="44%" class="φbd"></circle><circle cx="50%" cy="50%" r="48%" class="φbg" stroke-dasharray="0% 314.15926%"></circle><!----><g class="φbe"><circle r=".2rem" cx="0" cy="-.8rem"></circle><circle r=".2rem"></circle><circle r=".2rem" cx="0" cy=".8rem"></circle></g><!----></svg></div></is-f><is-m class="φdq"><div class="φds φdt"><a class="φdv"><span class="φdx">1 </span><!----><span class="φdy">指针</span></a><div class="φds"><a class="φdv"><span class="φdx">1.1 </span><!----><span class="φdy">函数指针</span></a><!----></div><div class="φds"><a class="φdv"><span class="φdx">1.2 </span><!----><span class="φdy">数组指针</span></a><!----></div><div class="φds"><a class="φdv"><span class="φdx">1.3 </span><!----><span class="φdy">this指针</span></a><!----></div><div class="φds"><a class="φdv"><span class="φdx">1.4 </span><!----><span class="φdy">指向类的成员的指针</span></a><!----></div><!----><!----><!----></div><div class="φds φdt"><a class="φdv"><span class="φdx">2 </span><!----><span class="φdy">动态内存分配</span></a><!----></div><div class="φds φdt"><a class="φdv"><span class="φdx">3 </span><!----><span class="φdy">字符串和string容器</span></a><!----></div><div class="φds φdt"><a class="φdv"><span class="φdx">4 </span><!----><span class="φdy">指针与引用</span></a><div class="φds"><a class="φdv"><span class="φdx">4.1 </span><!----><span class="φdy">指针类型安全性</span></a><!----></div><div class="φds"><a class="φdv"><span class="φdx">4.2 </span><!----><span class="φdy">堆对象管理</span></a><!----></div><div class="φds"><a class="φdv"><span class="φdx">4.3 </span><!----><span class="φdy">cosnt_cast</span></a><!----></div><!----><!----><!----></div><div class="φds φdt"><a class="φdv"><span class="φdx">5 </span><!----><span class="φdy">知识点:</span></a><!----></div><!----></is-m><!----><!----></is-a><!-- hexo injector body_begin end --><!-- hexo injector body_end start --><script src="//code.bdstatic.com/npm/leancloud-storage@4.12.0/dist/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><script src="//cdnjs.loli.net/ajax/libs/jquery/3.2.1/jquery.min.js"></script><script src="//cdn.jsdelivr.net/gh/s1acr/my_jsDelivr@main/blogSelfDesign.js"></script><script src="/runtime.1ed960b0635ea0669f87.js"></script><script src="/polyfills.b7bf56fc45f931a8b83e.js"></script><script src="/main.543c891b4aad158701f3.js"></script><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"superSample":2,"position":"right","hOffset":0,"vOffset":-20,"bottom":100,"width":150,"height":200},"mobile":{"show":true,"scale":0.5},"react":{"opacity":0.7,"opacityDefault":0.7,"opacityOnHover":0.9},"log":false});</script>

</body></html>