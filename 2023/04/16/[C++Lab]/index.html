<!DOCTYPE html><html lang="en"><head><!-- hexo injector head_begin start -->
<link rel="stylesheet" href="/css/bilicard.css">
<meta name="baidu-site-verification" content="codeva-pFQ3MHhnDY">
<script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9317015731056598" crossorigin="anonymous"></script>

<script src="/config.b810d57c68fbb8a39a0a.js"></script>
<!-- hexo injector head_begin end -->
<meta charset="utf-8">
<title>[C++Lab] - slacr_'s blog</title>
<base href="/">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
<link rel="canonical" href="https://s1acr.github.io/2023/04/16/[C++Lab]/">
<link rel="icon" type="image/x-icon" href="https://cdn.jsdelivr.net/gh/s1acr/PicGoLib@main/Typora/bitbug_favicon.ico">
<link rel="manifest" href="/manifest.json">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="description" content="C++实验课  lab2_3 题目 补充实验：成绩表里找同学 【问题描述】 编写一个程序，读入 N 个同学的姓名和语数外三门功课的单科成绩，对其按照一定的排序规则排序形成一张成绩表（先按总分从高到低排序，总分相同则按语文成绩由高到低排序，仍然相同则按数学成绩由高到低排序，若总分和单科成绩均相同则最后按姓名的字典序排序）。最后给定一个数字 K(K<=N) ，输出在这张排好序的成绩表中位置在第">
<meta property="og:type" content="website">
<meta property="og:title" content="[C++Lab]">
<meta property="og:url" content="https://s1acr.github.io/2023/04/16/[C++Lab]/index.html">
<meta property="og:site_name" content="slacr_'s blog">
<meta property="og:description" content="C++实验课  lab2_3 题目 补充实验：成绩表里找同学 【问题描述】 编写一个程序，读入 N 个同学的姓名和语数外三门功课的单科成绩，对其按照一定的排序规则排序形成一张成绩表（先按总分从高到低排序，总分相同则按语文成绩由高到低排序，仍然相同则按数学成绩由高到低排序，若总分和单科成绩均相同则最后按姓名的字典序排序）。最后给定一个数字 K(K<=N) ，输出在这张排好序的成绩表中位置在第">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/s1acr/PicGoLib@main/Typora/qqAvatar.jpg">
<meta property="article:published_time" content="2023-04-16T00:00:00.000Z">
<meta property="article:modified_time" content="2023-04-16T00:00:00.000Z">
<meta property="article:author" content="slacr_">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/s1acr/PicGoLib@main/Typora/qqAvatar.jpg">
<script type="application/ld+json">[{"@context":"http://schema.org","@type":"WebSite","publisher":{"@type":"Person","name":"slacr_","description":"Crap Programmer, College Student From CN. Idealist and Minimalism, life-long learner. I was lucky to find out what I truly have passion for. 🚬.","image":"https://cdn.jsdelivr.net/gh/s1acr/PicGoLib@main/Typora/qqAvatar.jpg"},"url":"https://s1acr.github.io","image":"https://cdn.jsdelivr.net/gh/s1acr/PicGoLib@main/Typora/qqAvatar.jpg","description":"slacr_ blog self blog website record coding githubpages","author":{"@type":"Person","name":"slacr_","description":"Crap Programmer, College Student From CN. Idealist and Minimalism, life-long learner. I was lucky to find out what I truly have passion for. 🚬.","image":"https://cdn.jsdelivr.net/gh/s1acr/PicGoLib@main/Typora/qqAvatar.jpg"},"inLanguage":{"@type":"Language","alternateName":"en"}},{"@context":"http://schema.org","@type":"Article","articleSection":"C++","url":"https://s1acr.github.io/2023/04/16/[C++Lab]/","headline":"[C++Lab]","image":"https://cdn.jsdelivr.net/gh/s1acr/PicGoLib@main/Typora/qqAvatar.jpg","datePublished":"2023-04-16T00:00:00.000Z","dateModified":"2023-04-16T00:00:00.000Z","keywords":"","description":"slacr_ blog self blog website record coding githubpages","publisher":{"@type":"Organization","name":"slacr_'s blog","logo":{"@type":"ImageObject","url":"https://cdn.jsdelivr.net/gh/s1acr/PicGoLib@main/Typora/qqAvatar.jpg"}},"author":{"@type":"Person","name":"slacr_","description":"Crap Programmer, College Student From CN. Idealist and Minimalism, life-long learner. I was lucky to find out what I truly have passion for. 🚬.","image":"https://cdn.jsdelivr.net/gh/s1acr/PicGoLib@main/Typora/qqAvatar.jpg"},"inLanguage":{"@type":"Language","alternateName":"en"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://s1acr.github.io/2023/04/16/[C++Lab]/"}}]</script>

<!-- hexo injector head_end start --><style is="theme">html{--inside-accent-color:#2a2b33;--inside-foreground-color:#363636;--inside-border-color:#e0e0e0;--inside-background:#f3f6f7;--inside-sidebar-background:#2a2b33;--inside-card-background:#fff;--inside-font-base:ZCOOL_XiaoWei;--inside-font-logo:Lobster,ZCOOL_XiaoWei;--inside-font-menu:Lobster,ZCOOL_XiaoWei;--inside-font-heading:Baloo_Paaji_2,ZCOOL_XiaoWei;--inside-font-label:Lobster,ZCOOL_XiaoWei;--inside-font-code:ZCOOL_XiaoWei,Inconsolata,monospace;--inside-font-print:ZCOOL_XiaoWei;--inside-content-width:800px;--inside-highlight-00:#1e1e1e;--inside-highlight-01:#323537;--inside-highlight-02:#464b50;--inside-highlight-03:#5f5a60;--inside-highlight-04:#838184;--inside-highlight-05:#a7a7a7;--inside-highlight-06:#c3c3c3;--inside-highlight-07:#ffffff;--inside-highlight-08:#cf6a4c;--inside-highlight-09:#cda869;--inside-highlight-0a:#f9ee98;--inside-highlight-0b:#8f9d6a;--inside-highlight-0c:#afc4db;--inside-highlight-0d:#7587a6;--inside-highlight-0e:#9b859d;--inside-highlight-0f:#9b703f;--inside-card-color:#fff;--inside-accent-color-005:rgba(42,43,51,.05);--inside-accent-color-01:rgba(42,43,51,.1);--inside-accent-color-02:rgba(42,43,51,.2);--inside-accent-color-04:rgba(42,43,51,.4);--inside-accent-color-08:rgba(42,43,51,.8)}</style><script src="/theme.9ecc9ab1.js"></script><link href="https://cdn.jsdelivr.net/gh/s1acr/my_jsDelivr@main/googleFonts/myblog.css" rel="stylesheet"><link href="//cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet"><link href="//cdn.jsdelivr.net/gh/s1acr/my_jsDelivr@main/blogSelfDesignDist.css" rel="stylesheet">
<script src="/cipher.0329a0a9.js"></script>

<script src="/palette.ead17218.js"></script>
<link href="/styles.91e7dfca63c7c151daa6.css" rel="stylesheet"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><meta name="theme-color" content=""><script type="application/json" is="state">{&q;api/MjAyMy8wNC8xNi9bQysrTGFiXQ.json&q;:{&q;title&q;:&q;[C++Lab]&q;,&q;date&q;:&q;2023-04-16T00:00:00.000Z&q;,&q;date_formatted&q;:{&q;ll&q;:&q;Apr 16, 2023&q;,&q;L&q;:&q;04/16/2023&q;,&q;MM-DD&q;:&q;04-16&q;},&q;link&q;:&q;2023/04/16/[C++Lab]&q;,&q;comments&q;:true,&q;categories&q;:[&q;C++&q;],&q;updated&q;:&q;2023-04-16T00:00:00.000Z&q;,&q;content&q;:&q;&l;blockquote&g;\n&l;p&g;C++实验课&l;/p&g;\n&l;/blockquote&g;\n&l;h2 id=\&q;lab2_3\&q;&g;lab2_3&l;a title=\&q;#lab2_3\&q; href=\&q;#lab2_3\&q;&g;&l;/a&g;&l;/h2&g;\n&l;h3 id=\&q;题目\&q;&g;题目&l;a title=\&q;#题目\&q; href=\&q;#题目\&q;&g;&l;/a&g;&l;/h3&g;\n&l;p&g;补充实验：成绩表里找同学&l;br&g;\n【问题描述】&l;br&g;\n编写一个程序，读入 N 个同学的姓名和语数外三门功课的单科成绩，对其按照一定的排序规则排序形成一张成绩表（先按总分从高到低排序，总分相同则按语文成绩由高到低排序，仍然相同则按数学成绩由高到低排序，若总分和单科成绩均相同则最后按姓名的字典序排序）。最后给定一个数字 K(K&a;lt;=N) ，输出在这张排好序的成绩表中位置在第 K 位的同学的姓名和总分。&l;br&g;\n字典序举例说明：&l;br&g;\nabc &a;gt; abd&l;br&g;\na &a;gt; aa&l;br&g;\n要求：用C++对象数组表示学生数据。采用多文件结构，类的声明放在头文件如student.h，类的实现放在源文件如student.cpp。&l;br&g;\n【输入形式】&l;br&g;\n第一行输入一个正整数 N(1&a;lt;=N&a;lt;=1024)，代表接下来将录入 N 个学生的成绩。&l;br&g;\n接下来 N 行录入 N 条学生的成绩记录，每条记录依次为姓名，语文成绩，数学成绩，英语成绩，这四个字段以空格分隔。姓名为字符串（仅包含小写字母，不含空格，长度&a;lt;=19），学生之间不会重名。三科成绩均为整数（0~100）。&l;br&g;\n最后输入一个正整数 K(1&a;lt;=K&a;lt;=N)，代表需要在成绩表中从前往后找到的位置。&l;br&g;\n【输出形式】&l;br&g;\n在成绩表中从前往后处在第 K 位的同学的姓名和总分，中间以空格分隔。&l;br&g;\n【样例输入1】&l;br&g;\n2&l;br&g;\ntom 90 91 92&l;br&g;\nlucy 91 90 92&l;br&g;\n1&l;br&g;\n【样例输出1】&l;br&g;\nlucy 273&l;br&g;\n【样例输入2】&l;br&g;\n4&l;br&g;\nlily 90 100 88&l;br&g;\njack 87 79 95&l;br&g;\nhanz 90 89 71&l;br&g;\ndavid 90 89 71&l;br&g;\n4&l;br&g;\n【样例输出2】&l;br&g;\nhanz 250&l;/p&g;\n&l;h3 id=\&q;解答\&q;&g;解答&l;a title=\&q;#解答\&q; href=\&q;#解答\&q;&g;&l;/a&g;&l;/h3&g;\n&l;figure class=\&q;highlight plaintext\&q;&g;&l;figcaption&g;&l;span&g;lab2_3_Stu.h C++&l;/span&g;&l;/figcaption&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;5&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;6&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;7&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;8&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;9&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;10&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;11&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;12&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;13&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;14&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;15&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;#pragma once&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;#include &a;lt;iostream&a;gt;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;#include &a;lt;string&a;gt;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;using namespace std;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;class Student &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;public:&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tstring name;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tint yu;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tint shu;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tint wai;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tint sum;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tStudent() &a;#123;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tStudent(string name, int yu, int shu, int wai) :name(name), yu(yu), shu(shu), wai(wai) &a;#123;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tvoid setInfo();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;;&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;\n&l;figure class=\&q;highlight plaintext\&q;&g;&l;figcaption&g;&l;span&g;lab2_3_Stu.cpp C++&l;/span&g;&l;/figcaption&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;5&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;6&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;7&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;8&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;#include &a;quot;lab2_3_Stu.h&a;quot;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;void Student::setInfo() &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcin &a;gt;&a;gt; this-&a;gt;name;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcin &a;gt;&a;gt; this-&a;gt;yu;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcin &a;gt;&a;gt; this-&a;gt;shu;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcin &a;gt;&a;gt; this-&a;gt;wai;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tsum = this-&a;gt;yu + this-&a;gt;wai + this-&a;gt;shu;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;\n&l;figure class=\&q;highlight plaintext\&q;&g;&l;figcaption&g;&l;span&g;lab2_3.cpp C++&l;/span&g;&l;/figcaption&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;5&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;6&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;7&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;8&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;9&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;10&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;11&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;12&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;13&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;14&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;15&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;16&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;17&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;18&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;19&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;20&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;21&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;22&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;23&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;24&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;25&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;26&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;27&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;28&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;29&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;30&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;31&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;32&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;33&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;34&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;35&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;36&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;37&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;38&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;39&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;40&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;41&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;42&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;43&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;44&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;45&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;#include &a;lt;iostream&a;gt;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;#include &a;lt;string&a;gt;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;using namespace std;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;#include &a;lt;vector&a;gt;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;#include &a;lt;algorithm&a;gt;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;#include &a;quot;lab2_3_Stu.h&a;quot;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;class Mypred &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;public:&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tbool operator()(Student s1, Student s2) &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\tif (s1.sum == s2.sum) &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\treturn s1.name &a;lt; s2.name;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\telse&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\treturn s1.sum &a;gt; s2.sum;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;class ScoreSheet &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;public:&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tint numOfStu;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tvector&a;lt;Student&a;gt; vstus;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tvoid initSheet() &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\tcin &a;gt;&a;gt; numOfStu;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\tvstus.resize(numOfStu);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\tfor (int i = 0; i &a;lt; numOfStu; i++)&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\tStudent stu;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\tstu.setInfo();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\tvstus[i] = stu;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\tsort(vstus.begin(), vstus.end(), Mypred());&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tvoid queeryCode() &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\tint code;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\tcin &a;gt;&a;gt; code;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\tcout &a;lt;&a;lt; vstus[code-1].name &a;lt;&a;lt; &a;quot; &a;quot; &a;lt;&a;lt; vstus[code-1].sum &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;int main() &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tScoreSheet ss;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tss.initSheet();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tss.queeryCode();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\treturn 0;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;\n&l;p&g;分文件, 我这里只分了一个&l;br&g;\n&l;strong&g;分文件方法:&l;/strong&g;&l;br&g;\n.h 中放声明, .cpp中放实现, 主函数中引用 .h&l;br&g;\n或者.hpp中放声明和实现, 主函数中引用 .hpp&l;br&g;\n这题很典型, vector容器储存, sort算法排序传个谓词进去, 不同排序的方式由谓词实现.&l;/p&g;\n&l;h2 id=\&q;lab3_1\&q;&g;lab3_1&l;a title=\&q;#lab3_1\&q; href=\&q;#lab3_1\&q;&g;&l;/a&g;&l;/h2&g;\n&l;h3 id=\&q;题目-1\&q;&g;题目&l;a title=\&q;#题目-1\&q; href=\&q;#题目-1\&q;&g;&l;/a&g;&l;/h3&g;\n&l;figure class=\&q;highlight plaintext\&q;&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;5&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;6&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;7&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;8&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;9&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;10&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;11&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;12&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;13&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;14&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;15&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;16&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;17&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;18&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;19&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;20&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;21&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;22&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;23&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;24&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;25&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;26&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;27&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;编写一个学生和教师数据输入和显示程序。其中，学生数据有编号、姓名、班级和成绩，教师数据有编号、姓名、职称和部门。&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;要求：&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;（1）将编号、姓名输入和显示设计成一个类person；&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;（2）设计类person的派生类：学生类student和教师类teacher；&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;（3）主函数中分别定义一个学生对象和教师对象进行测试。&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;【输入形式】&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;程序参考的输入（输入数据前面为提示文字）：&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;Input id:1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;Input name:zhangsan&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;Input class:1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;Input score:90&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;Input id:2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;Input name:lisi&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;Input title:teacher&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;Input department:computer&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;【输出形式】&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;程序参考的输出：&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;Student&a;#x27;s info:&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;Id:1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;Name:zhangsan&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;Class:1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;Score:90&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;Teacher&a;#x27;s info:&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;Id:2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;Name:lisi&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;Title:teacher&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;Department:computer&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;\n&l;h3 id=\&q;解答-1\&q;&g;解答&l;a title=\&q;#解答-1\&q; href=\&q;#解答-1\&q;&g;&l;/a&g;&l;/h3&g;\n&l;figure class=\&q;highlight c++\&q;&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;5&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;6&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;7&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;8&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;9&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;10&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;11&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;12&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;13&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;14&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;15&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;16&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;17&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;18&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;19&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;20&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;21&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;22&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;23&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;24&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;25&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;26&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;27&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;28&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;29&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;30&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;31&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;32&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;33&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;34&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;35&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;36&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;37&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;38&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;39&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;40&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;41&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;42&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;43&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;44&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;45&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;46&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;47&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;48&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;49&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;50&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;51&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;52&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;53&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;54&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;55&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;56&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;57&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;58&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;59&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;60&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;61&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;62&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;63&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;64&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;65&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;66&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;67&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;68&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;keyword\&q;&g;include&l;/span&g;  &l;span class=\&q;string\&q;&g;&a;lt;iostream&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;keyword\&q;&g;include&l;/span&g;  &l;span class=\&q;string\&q;&g;&a;lt;string&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;using&l;/span&g;  &l;span class=\&q;keyword\&q;&g;namespace&l;/span&g;  std;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;class&l;/span&g;  &l;span class=\&q;title class_\&q;&g;person&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;public&l;/span&g;:&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;built_in\&q;&g;person&l;/span&g;()&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        cout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;Input  id:&a;quot;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        cin &a;gt;&a;gt; id;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        cout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;Input  name:&a;quot;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        cin &a;gt;&a;gt; name;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;function\&q;&g;&l;span class=\&q;type\&q;&g;void&l;/span&g;  &l;span class=\&q;title\&q;&g;display&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;    &l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        cout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;Id:&a;quot;&l;/span&g; &a;lt;&a;lt; id &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        cout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;Name:&a;quot;&l;/span&g; &a;lt;&a;lt; name &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;private&l;/span&g;:&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    string  id;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    string  name;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;// 填充部分&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;class&l;/span&g; &l;span class=\&q;title class_\&q;&g;student&l;/span&g; : &l;span class=\&q;keyword\&q;&g;public&l;/span&g; person&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;public&l;/span&g;:&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;built_in\&q;&g;student&l;/span&g;() &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        cout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;Input class:&a;quot;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        cin &a;gt;&a;gt; classNum;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        cout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;Input score:&a;quot;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        cin &a;gt;&a;gt; score;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;function\&q;&g;&l;span class=\&q;type\&q;&g;void&l;/span&g; &l;span class=\&q;title\&q;&g;display&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g; &l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        cout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;Student&a;#x27;s info:&a;quot;&l;/span&g; &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        person::&l;span class=\&q;built_in\&q;&g;display&l;/span&g;();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        cout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;Class:&a;quot;&l;/span&g; &a;lt;&a;lt; classNum &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        cout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;Score:&a;quot;&l;/span&g; &a;lt;&a;lt; score &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;private&l;/span&g;:&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    string classNum;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;type\&q;&g;int&l;/span&g; score;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;class&l;/span&g; &l;span class=\&q;title class_\&q;&g;teacher&l;/span&g; : &l;span class=\&q;keyword\&q;&g;public&l;/span&g; person &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;public&l;/span&g;:&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;built_in\&q;&g;teacher&l;/span&g;() &a;#123; &l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        cout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;Input title:&a;quot;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        cin &a;gt;&a;gt; title;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        cout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;Input department:&a;quot;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        cin &a;gt;&a;gt; department;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;function\&q;&g;&l;span class=\&q;type\&q;&g;void&l;/span&g; &l;span class=\&q;title\&q;&g;display&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g; &l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        cout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;Teacher&a;#x27;s info:&a;quot;&l;/span&g; &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        person::&l;span class=\&q;built_in\&q;&g;display&l;/span&g;();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        cout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;Title:&a;quot;&l;/span&g; &a;lt;&a;lt; title &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        cout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;Department:&a;quot;&l;/span&g; &a;lt;&a;lt; department &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;private&l;/span&g;:&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    string title;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    string department;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;type\&q;&g;int&l;/span&g;  &l;span class=\&q;title\&q;&g;main&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    student  stu;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    teacher  tea;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    stu.&l;span class=\&q;built_in\&q;&g;display&l;/span&g;();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    tea.&l;span class=\&q;built_in\&q;&g;display&l;/span&g;();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;return&l;/span&g;  &l;span class=\&q;number\&q;&g;0&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;\n&l;p&g;一开始想了半天调用父类的private成员要用友元, 又不能更改题目, 后来才发现不是给了公共display接口么. 写派生类多关注公共接口, 私有的不需要管.&l;/p&g;\n&l;h2 id=\&q;lab3_2\&q;&g;lab3_2&l;a title=\&q;#lab3_2\&q; href=\&q;#lab3_2\&q;&g;&l;/a&g;&l;/h2&g;\n&l;h3 id=\&q;题目-2\&q;&g;题目&l;a title=\&q;#题目-2\&q; href=\&q;#题目-2\&q;&g;&l;/a&g;&l;/h3&g;\n&l;p&g;补充：字符串统计排序，继承系统string类&l;br&g;\n【问题描述】&l;br&g;\n编写一个程序，接收用户输入的一个字符串(可以包含空格)，统计其中所有出现过的所有字符，并按照频率高低的顺序排列输出。频率相同的字符按输入顺序输出。&l;br&g;\n【输入形式】&l;br&g;\n用户在第一行输入一个字符串，以回车结束输入。&l;br&g;\n【输出形式】&l;br&g;\n程序统计字符串中出现的所有字符，然后按照字符出现频率大小排序输出，频率相同时，按输入顺序输出。输出形式规定为每行输出4个字符数据，输出格式为：字符-出现次数。每个字符-出现次数输出中间用一个空格分隔，每行末尾没有空格。程序输出结尾有一个回车。&l;br&g;\n【样例输入】&l;br&g;\nThe job requires an agile mind.&l;br&g;\n【样例输出】&l;br&g;\n#-5 e-4 i-3 r-2&l;br&g;\na-2 n-2 T-1 h-1&l;br&g;\nj-1 o-1 b-1 q-1&l;br&g;\nu-1 s-1 g-1 l-1&l;br&g;\nm-1 d-1 .-1               #表示空格(在程序请输出空格，而不是字符&a;quot;#&a;quot;，这里只是表示而已。)&l;br&g;\n【样例说明】&l;br&g;\n用户首先输入字符串The job requires an agile mind. 程序统计完毕之后按照每行4个统计结果输出，字符串中有5个空格，所以输出为#-5,#表示空格。字符’b’和’T’出现次数同为1，因为输入时’b’先于’T’输入，所以输出时也先打印’b’的统计信息。&l;/p&g;\n&l;h3 id=\&q;解答-2\&q;&g;解答&l;a title=\&q;#解答-2\&q; href=\&q;#解答-2\&q;&g;&l;/a&g;&l;/h3&g;\n&l;figure class=\&q;highlight c++\&q;&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;5&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;6&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;7&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;8&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;9&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;10&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;11&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;12&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;13&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;14&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;15&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;16&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;17&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;18&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;19&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;20&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;21&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;22&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;23&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;24&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;25&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;26&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;27&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;28&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;29&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;30&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;31&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;32&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;33&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;34&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;35&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;36&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;37&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;38&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;39&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;40&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;41&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;42&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;43&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;44&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;45&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;46&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;47&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;48&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;49&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;50&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;51&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;52&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;53&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;54&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;55&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;56&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;57&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;58&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;59&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;60&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;61&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;62&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;63&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;64&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;65&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;66&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;67&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;68&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;69&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;70&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;71&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;72&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;73&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;74&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;75&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;76&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;77&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;78&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;79&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;keyword\&q;&g;include&l;/span&g;  &l;span class=\&q;string\&q;&g;&a;lt;iostream&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;keyword\&q;&g;include&l;/span&g;  &l;span class=\&q;string\&q;&g;&a;lt;string&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;using&l;/span&g;  &l;span class=\&q;keyword\&q;&g;namespace&l;/span&g;  std;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;class&l;/span&g;  &l;span class=\&q;title class_\&q;&g;MyChar&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;public&l;/span&g;:&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;built_in\&q;&g;MyChar&l;/span&g;() :&l;span class=\&q;built_in\&q;&g;num&l;/span&g;(&l;span class=\&q;number\&q;&g;0&l;/span&g;) &a;#123;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;type\&q;&g;char&l;/span&g;  ch;        &l;span class=\&q;comment\&q;&g;//字符&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;type\&q;&g;int&l;/span&g;  num;        &l;span class=\&q;comment\&q;&g;//出现次数&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;class&l;/span&g;  &l;span class=\&q;title class_\&q;&g;MyString&l;/span&g; : &l;span class=\&q;keyword\&q;&g;public&l;/span&g;  string&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;public&l;/span&g;:&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;function\&q;&g;&l;span class=\&q;type\&q;&g;void&l;/span&g;  &l;span class=\&q;title\&q;&g;input&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g; &l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;span class=\&q;built_in\&q;&g;getline&l;/span&g;(cin, *&l;span class=\&q;keyword\&q;&g;this&l;/span&g;);  &l;span class=\&q;comment\&q;&g;//输入一行，支持空格&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\tsum = &l;span class=\&q;number\&q;&g;0&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;function\&q;&g;&l;span class=\&q;type\&q;&g;void&l;/span&g;  &l;span class=\&q;title\&q;&g;putchar&l;/span&g;&l;span class=\&q;params\&q;&g;(&l;span class=\&q;type\&q;&g;char&l;/span&g;  ch)&l;/span&g;&l;/span&g;;  &l;span class=\&q;comment\&q;&g;//放入字符&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;function\&q;&g;&l;span class=\&q;type\&q;&g;void&l;/span&g;  &l;span class=\&q;title\&q;&g;compute&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;function\&q;&g;&l;span class=\&q;type\&q;&g;void&l;/span&g;  &l;span class=\&q;title\&q;&g;output&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;private&l;/span&g;:&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tMyChar  chars[&l;span class=\&q;number\&q;&g;300&l;/span&g;];  &l;span class=\&q;comment\&q;&g;//字符计数&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;type\&q;&g;int&l;/span&g;  sum; &l;span class=\&q;comment\&q;&g;//已有总数&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;type\&q;&g;void&l;/span&g;  &l;span class=\&q;title\&q;&g;MyString::putchar&l;/span&g;&l;span class=\&q;params\&q;&g;(&l;span class=\&q;type\&q;&g;char&l;/span&g;  ch)&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;comment\&q;&g;// 存在有这个字符的话num++&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;keyword\&q;&g;for&l;/span&g; (&l;span class=\&q;type\&q;&g;int&l;/span&g; i = &l;span class=\&q;number\&q;&g;0&l;/span&g;; i &a;lt; sum; i++)&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;span class=\&q;keyword\&q;&g;if&l;/span&g; (chars[i].ch == ch)&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\tchars[i].num++;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&l;span class=\&q;keyword\&q;&g;return&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;comment\&q;&g;//没有这个字符的话初始化这个字符&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tchars[sum].ch = ch;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tchars[sum].num++;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tsum++;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;// 填空一&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;type\&q;&g;void&l;/span&g;  &l;span class=\&q;title\&q;&g;MyString::compute&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g; &l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;comment\&q;&g;//分析字符出现频次并排序&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;comment\&q;&g;//遍历输入的字符串 &l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;keyword\&q;&g;for&l;/span&g; (&l;span class=\&q;type\&q;&g;int&l;/span&g; i = &l;span class=\&q;number\&q;&g;0&l;/span&g;; i &a;lt; (*&l;span class=\&q;keyword\&q;&g;this&l;/span&g;).&l;span class=\&q;built_in\&q;&g;size&l;/span&g;(); i++) &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;span class=\&q;built_in\&q;&g;putchar&l;/span&g;((*&l;span class=\&q;keyword\&q;&g;this&l;/span&g;)[i]);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;comment\&q;&g;//按照字符个数排序chars[], 冒泡排序, 如果两个字符数量相同, 冒泡排序是安全的, 不会改变位置.&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;keyword\&q;&g;for&l;/span&g; (&l;span class=\&q;type\&q;&g;int&l;/span&g; i = &l;span class=\&q;number\&q;&g;0&l;/span&g;; i &a;lt; sum - &l;span class=\&q;number\&q;&g;1&l;/span&g;; i++) &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;span class=\&q;keyword\&q;&g;for&l;/span&g; (&l;span class=\&q;type\&q;&g;int&l;/span&g; j = &l;span class=\&q;number\&q;&g;0&l;/span&g;; j &a;lt; sum - i - &l;span class=\&q;number\&q;&g;1&l;/span&g;; j++) &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&l;span class=\&q;keyword\&q;&g;if&l;/span&g; (chars[j].num &a;lt; chars[j + &l;span class=\&q;number\&q;&g;1&l;/span&g;].num) &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t\t&l;span class=\&q;comment\&q;&g;//交换&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t\tMyChar temp = chars[j];&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t\tchars[j] = chars[j + &l;span class=\&q;number\&q;&g;1&l;/span&g;];&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t\tchars[j + &l;span class=\&q;number\&q;&g;1&l;/span&g;] = temp;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;// 填空二&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;type\&q;&g;void&l;/span&g;  &l;span class=\&q;title\&q;&g;MyString::output&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;comment\&q;&g;//输出分析结果&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;keyword\&q;&g;for&l;/span&g; (&l;span class=\&q;type\&q;&g;int&l;/span&g; i = &l;span class=\&q;number\&q;&g;1&l;/span&g;; i &a;lt;= sum; i++)&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\tcout &a;lt;&a;lt; chars[i - &l;span class=\&q;number\&q;&g;1&l;/span&g;].ch &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;-&a;quot;&l;/span&g; &a;lt;&a;lt; chars[i - &l;span class=\&q;number\&q;&g;1&l;/span&g;].num &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot; &a;quot;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;span class=\&q;keyword\&q;&g;if&l;/span&g; (i % &l;span class=\&q;number\&q;&g;4&l;/span&g; == &l;span class=\&q;number\&q;&g;0&l;/span&g;) cout &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//使得程序正确执行&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;type\&q;&g;int&l;/span&g;  &l;span class=\&q;title\&q;&g;main&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tMyString  s;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\ts.&l;span class=\&q;built_in\&q;&g;input&l;/span&g;();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\ts.&l;span class=\&q;built_in\&q;&g;compute&l;/span&g;();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\ts.&l;span class=\&q;built_in\&q;&g;output&l;/span&g;();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;keyword\&q;&g;return&l;/span&g;  &l;span class=\&q;number\&q;&g;0&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;\n&l;p&g;要看懂每一个函数是做什么, &l;code&g;getline(cin, *this);&l;/code&g;, 用到了多态, *this是string的派生类, 父类指针指向子类对象.&l;br&g;\nchars[]中的是引用对象, 交换位置的时候交换引用就行了, 而不是值交换.&l;/p&g;\n&l;h2 id=\&q;lab5\&q;&g;lab5&l;a title=\&q;#lab5\&q; href=\&q;#lab5\&q;&g;&l;/a&g;&l;/h2&g;\n&l;p&g;两道分析题&l;/p&g;\n&l;figure class=\&q;highlight c++\&q;&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;5&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;6&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;7&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;8&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;9&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;10&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;11&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;12&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;13&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;14&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;15&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;16&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;17&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;18&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;19&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;20&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;21&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;22&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;23&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;24&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;25&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;26&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;27&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;28&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;29&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;30&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;31&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;32&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;33&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;34&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;35&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;36&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;37&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;38&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;39&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;40&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;41&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;42&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;43&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;44&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;45&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;46&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;47&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;48&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;49&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;50&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;51&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;52&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;53&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;54&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;55&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;56&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;57&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;58&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;59&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;60&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;61&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;62&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;63&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;keyword\&q;&g;include&l;/span&g;   &l;span class=\&q;string\&q;&g;&a;lt;iostream&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;keyword\&q;&g;include&l;/span&g;   &l;span class=\&q;string\&q;&g;&a;lt;complex&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;using&l;/span&g; &l;span class=\&q;keyword\&q;&g;namespace&l;/span&g;   std;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;class&l;/span&g; &l;span class=\&q;title class_\&q;&g;Base&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;public&l;/span&g;:&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;built_in\&q;&g;Base&l;/span&g;() &a;#123; cout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;Base-ctor&a;quot;&l;/span&g; &a;lt;&a;lt; endl; &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    ~&l;span class=\&q;built_in\&q;&g;Base&l;/span&g;() &a;#123; cout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;Base-dtor&a;quot;&l;/span&g; &a;lt;&a;lt; endl; &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;virtual&l;/span&g; &l;span class=\&q;type\&q;&g;void&l;/span&g; &l;span class=\&q;title\&q;&g;f&l;/span&g;&l;span class=\&q;params\&q;&g;(&l;span class=\&q;type\&q;&g;int&l;/span&g;)&l;/span&g; &l;/span&g;&a;#123; cout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;Base::f(int)&a;quot;&l;/span&g; &a;lt;&a;lt; endl; &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;virtual&l;/span&g; &l;span class=\&q;type\&q;&g;void&l;/span&g; &l;span class=\&q;title\&q;&g;f&l;/span&g;&l;span class=\&q;params\&q;&g;(&l;span class=\&q;type\&q;&g;double&l;/span&g;)&l;/span&g; &l;/span&g;&a;#123; cout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;Base::f(double)&a;quot;&l;/span&g; &a;lt;&a;lt; endl; &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;virtual&l;/span&g; &l;span class=\&q;type\&q;&g;void&l;/span&g; &l;span class=\&q;title\&q;&g;g&l;/span&g;&l;span class=\&q;params\&q;&g;(&l;span class=\&q;type\&q;&g;int&l;/span&g; i = &l;span class=\&q;number\&q;&g;10&l;/span&g;)&l;/span&g; &l;/span&g;&a;#123; cout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;Base::g()&a;quot;&l;/span&g; &a;lt;&a;lt; i &a;lt;&a;lt; endl; &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;class&l;/span&g; &l;span class=\&q;title class_\&q;&g;Derived&l;/span&g; : &l;span class=\&q;keyword\&q;&g;public&l;/span&g; Base&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;public&l;/span&g;:&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;built_in\&q;&g;Derived&l;/span&g;() &a;#123; cout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;Derived-ctor&a;quot;&l;/span&g; &a;lt;&a;lt; endl; &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    ~&l;span class=\&q;built_in\&q;&g;Derived&l;/span&g;() &a;#123; cout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;Derived-dtor&a;quot;&l;/span&g; &a;lt;&a;lt; endl; &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;function\&q;&g;&l;span class=\&q;type\&q;&g;void&l;/span&g; &l;span class=\&q;title\&q;&g;f&l;/span&g;&l;span class=\&q;params\&q;&g;(complex&a;lt;&l;span class=\&q;type\&q;&g;double&l;/span&g;&a;gt;)&l;/span&g; &l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        cout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;Derived::f(complex)&a;quot;&l;/span&g; &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;function\&q;&g;&l;span class=\&q;type\&q;&g;void&l;/span&g; &l;span class=\&q;title\&q;&g;g&l;/span&g;&l;span class=\&q;params\&q;&g;(&l;span class=\&q;type\&q;&g;int&l;/span&g;   i = &l;span class=\&q;number\&q;&g;20&l;/span&g;)&l;/span&g; &l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        cout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;Derived::g()&a;quot;&l;/span&g; &a;lt;&a;lt; i &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;type\&q;&g;int&l;/span&g; &l;span class=\&q;title\&q;&g;main&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    cout &a;lt;&a;lt; &l;span class=\&q;built_in\&q;&g;sizeof&l;/span&g;(Base) &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    cout &a;lt;&a;lt; &l;span class=\&q;built_in\&q;&g;sizeof&l;/span&g;(Derived) &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    Base b;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    Derived d;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    Base* pb = &l;span class=\&q;keyword\&q;&g;new&l;/span&g; Derived;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    b.&l;span class=\&q;built_in\&q;&g;f&l;/span&g;(&l;span class=\&q;number\&q;&g;1.0&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    d.&l;span class=\&q;built_in\&q;&g;f&l;/span&g;(&l;span class=\&q;number\&q;&g;1.0&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    pb-&a;gt;&l;span class=\&q;built_in\&q;&g;f&l;/span&g;(&l;span class=\&q;number\&q;&g;1.0&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    b.&l;span class=\&q;built_in\&q;&g;g&l;/span&g;();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    d.&l;span class=\&q;built_in\&q;&g;g&l;/span&g;();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    pb-&a;gt;&l;span class=\&q;built_in\&q;&g;g&l;/span&g;();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;delete&l;/span&g; pb;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;return&l;/span&g; &l;span class=\&q;number\&q;&g;0&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;/*&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;分析： &l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;8                         // vfptr 64位 占 8 字节, 32位占 4 字节&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;8                          // 同上&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;Base-ctor                   //  基类构造&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;Base-ctor                   // 派生类先构造基类再构造派生类&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;Derived-ctor        &l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;Base-ctor                      // new 创建派生类再堆区， 同上先构造基类再构造派生类&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;Derived-ctor&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;Base::f(double)                 // 本类函数调用&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;Derived::f(complex)             //  本类函数调用&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;Base::f(double)                 // pb是基类指针指向派生类对象，调用f函数，先再Derived类中的Base中匹配发现无， 再利用继承的vfptr向vftable中寻找发现匹配基类中的函数， 调用, 基类f函数没有重写. 虚表中还是基类函数的地址 &l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;Base::g()10                     //  本类函数调用&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;Derived::g()20                   //   本类函数调用&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;Derived::g()10                    //   pb依旧先在Derived中的Base下寻找g发现无, 利用继承的vfptr向vftable中寻找, 因为Derived重写了Base的g, 继承时基类虚表的g函数地址被改变, 从而调用派生类的g&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;Base-dtor                           // delete释放, pb调用派生类下基类析构&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;Derived-dtor                        // 编译器自动调用清理内存, 按主函数调用栈中本地变量的创建顺序相反, 析构d, 先析构派生类再析构基类 &l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;Base-dtor&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;Base-dtor                           //析构b&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;*/&l;/span&g;&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;\n&l;figure class=\&q;highlight c++\&q;&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;5&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;6&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;7&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;8&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;9&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;10&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;11&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;12&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;13&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;14&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;15&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;16&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;17&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;18&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;19&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;20&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;21&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;22&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;23&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;24&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;25&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;26&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;27&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;28&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;29&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;30&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;31&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;32&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;33&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;34&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;35&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;36&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;37&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;38&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;39&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;40&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;41&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;42&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;43&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;44&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;45&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;46&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;47&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;48&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;49&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;50&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;51&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;52&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;53&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;54&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;55&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;56&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;57&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;58&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;59&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;60&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;61&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;62&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;63&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;64&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;65&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;66&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;67&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;68&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;69&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;70&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;keyword\&q;&g;include&l;/span&g;   &l;span class=\&q;string\&q;&g;&a;lt;iostream&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;using&l;/span&g;   &l;span class=\&q;keyword\&q;&g;namespace&l;/span&g;   std;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;class&l;/span&g;   &l;span class=\&q;title class_\&q;&g;Base&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;public&l;/span&g;:&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;built_in\&q;&g;Base&l;/span&g;() :&l;span class=\&q;built_in\&q;&g;data&l;/span&g;(count)&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        cout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;Base-ctor&a;quot;&l;/span&g; &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        ++count;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;     ~&l;span class=\&q;built_in\&q;&g;Base&l;/span&g;()&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        cout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;Base-dtor&a;quot;&l;/span&g; &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        --count;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;type\&q;&g;static&l;/span&g; &l;span class=\&q;type\&q;&g;int&l;/span&g; count;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;type\&q;&g;int&l;/span&g; data;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;type\&q;&g;int&l;/span&g; Base::count;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;class&l;/span&g; &l;span class=\&q;title class_\&q;&g;Derived&l;/span&g; : &l;span class=\&q;keyword\&q;&g;public&l;/span&g; Base&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;public&l;/span&g;:&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;built_in\&q;&g;Derived&l;/span&g;() :&l;span class=\&q;built_in\&q;&g;data&l;/span&g;(count), &l;span class=\&q;built_in\&q;&g;data1&l;/span&g;(data)&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        cout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;Derived-ctor&a;quot;&l;/span&g; &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        ++count;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    ~&l;span class=\&q;built_in\&q;&g;Derived&l;/span&g;()&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        cout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;Derived-dtor&a;quot;&l;/span&g; &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;        --count;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;type\&q;&g;static&l;/span&g; &l;span class=\&q;type\&q;&g;int&l;/span&g; count;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;type\&q;&g;int&l;/span&g; data1;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;type\&q;&g;int&l;/span&g; data;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;type\&q;&g;int&l;/span&g; Derived::count = &l;span class=\&q;number\&q;&g;10&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;type\&q;&g;int&l;/span&g; &l;span class=\&q;title\&q;&g;main&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    cout &a;lt;&a;lt; &l;span class=\&q;built_in\&q;&g;sizeof&l;/span&g;(Base) &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    cout &a;lt;&a;lt; &l;span class=\&q;built_in\&q;&g;sizeof&l;/span&g;(Derived) &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    Base* pb = &l;span class=\&q;keyword\&q;&g;new&l;/span&g; Derived[&l;span class=\&q;number\&q;&g;3&l;/span&g;];&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    cout &a;lt;&a;lt; pb[&l;span class=\&q;number\&q;&g;2&l;/span&g;].data &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    cout &a;lt;&a;lt; ((&l;span class=\&q;built_in\&q;&g;static_cast&l;/span&g;&a;lt;Derived*&a;gt;(pb)) + &l;span class=\&q;number\&q;&g;2&l;/span&g;)-&a;gt;data1 &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;delete&l;/span&g;[] pb;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    cout &a;lt;&a;lt; Base::count &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    cout &a;lt;&a;lt; Derived::count &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;    &l;span class=\&q;keyword\&q;&g;return&l;/span&g; &l;span class=\&q;number\&q;&g;0&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;/*&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;4           // static 静态变量, 在编译时确定内存, 不包括在类中, Base中含有一个int, 分配的大小为 4 字节, &l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;12          // Base中的data, 和Derived中的data, data1, 三个int , 12字节&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;Base-ctor       // new 堆区初始化Derived实例, 三次, 先构造基类在构造自身&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;Derived-ctor&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;Base-ctor&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;Derived-ctor&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;Base-ctor&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;Derived-ctor&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;10              // pb基类指针指向派生类对象, 基类在派生类的内存分布在最前, pb访问到的是派生类的成员, 并且有偏移量限制, 不能访问派生类的内存.&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;-842150451      // static_cast将pb转换为Derived*, 这是可以的, 或者用更安全的dynamic_cast, 只要改变偏移量, 不过基类要改成多态类型的抽象类, &l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//  这题有点问题, 搞不懂为什么要用data初始化data1, data而又没有初始化值, 所以是不确定的内存值, 初始化了data1就是正常值&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;Base-dtor       // 调用pb指向的Derived中Base下的析构三次&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;Base-dtor       // &l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;Base-dtor&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;0               // 静态变量默认初始化0&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;13              // Derived 构造三次 13, 没有调用Derived析构.内存泄漏,  建议把基类析构声明成虚函数就可以动态绑定按顺序析构派生类.&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;*/&l;/span&g;&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;\n&l;h2 id=\&q;lab6\&q;&g;lab6&l;a title=\&q;#lab6\&q; href=\&q;#lab6\&q;&g;&l;/a&g;&l;/h2&g;\n&l;figure class=\&q;highlight c++\&q;&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;5&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;6&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;7&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;8&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;9&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;10&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;11&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;12&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;13&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;14&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;15&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;16&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;17&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;18&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;19&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;20&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;21&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;22&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;23&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;24&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;25&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;26&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;27&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;28&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;29&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;30&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;31&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;32&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;33&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;34&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;35&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;36&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;37&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;38&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;39&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;40&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;41&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;42&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;43&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;44&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;45&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;46&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;47&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;48&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;49&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;50&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;51&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;52&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;53&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;54&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;55&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;56&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;57&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;58&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;59&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;60&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;61&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;62&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;63&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;64&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;65&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;66&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;67&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;68&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;69&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;70&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;71&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;72&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;73&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;74&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;75&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;76&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;77&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;78&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;79&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;80&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;81&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;82&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;83&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;84&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;85&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;86&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;87&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;88&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;89&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;90&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;91&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;92&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;93&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;94&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;95&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;96&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;97&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;98&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;99&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;100&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;101&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;102&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;103&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;104&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;105&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;106&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;107&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;108&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;109&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;110&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;111&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;112&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;113&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;114&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;115&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;116&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;117&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;118&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;119&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;120&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;121&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;122&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;123&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;124&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;125&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;126&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;127&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;128&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;keyword\&q;&g;include&l;/span&g;  &l;span class=\&q;string\&q;&g;&a;lt;iostream&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;keyword\&q;&g;include&l;/span&g;  &l;span class=\&q;string\&q;&g;&a;lt;cmath&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;using&l;/span&g;  &l;span class=\&q;keyword\&q;&g;namespace&l;/span&g;  std;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;class&l;/span&g;  &l;span class=\&q;title class_\&q;&g;CFraction&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;private&l;/span&g;:&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;type\&q;&g;int&l;/span&g;  nume;    &l;span class=\&q;comment\&q;&g;//  分子&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;type\&q;&g;int&l;/span&g;  deno;    &l;span class=\&q;comment\&q;&g;//  分母&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;public&l;/span&g;:&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;built_in\&q;&g;CFraction&l;/span&g;(&l;span class=\&q;type\&q;&g;int&l;/span&g;  nu = &l;span class=\&q;number\&q;&g;0&l;/span&g;, &l;span class=\&q;type\&q;&g;int&l;/span&g;  de = &l;span class=\&q;number\&q;&g;1&l;/span&g;) :&l;span class=\&q;built_in\&q;&g;nume&l;/span&g;(nu), &l;span class=\&q;built_in\&q;&g;deno&l;/span&g;(de)  &a;#123;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;function\&q;&g;&l;span class=\&q;type\&q;&g;void&l;/span&g;  &l;span class=\&q;title\&q;&g;simplify&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;comment\&q;&g;//输入输出的重载&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;keyword\&q;&g;friend&l;/span&g;  istream  &a;amp;&l;span class=\&q;keyword\&q;&g;operator&l;/span&g;&a;gt;&a;gt;(istream  &a;amp;in, CFraction  &a;amp;x);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;keyword\&q;&g;friend&l;/span&g;  ostream  &a;amp;&l;span class=\&q;keyword\&q;&g;operator&l;/span&g;&a;lt;&a;lt;(ostream  &a;amp;out, CFraction  x);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tCFraction  &l;span class=\&q;keyword\&q;&g;operator&l;/span&g;+(&l;span class=\&q;type\&q;&g;const&l;/span&g;  CFraction  &a;amp;c2)&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&l;span class=\&q;type\&q;&g;int&l;/span&g; ldeno = deno * c2.deno;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&l;span class=\&q;type\&q;&g;int&l;/span&g; lnume = nume * c2.deno + c2.nume * deno;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&l;span class=\&q;function\&q;&g;CFraction &l;span class=\&q;title\&q;&g;temp&l;/span&g;&l;span class=\&q;params\&q;&g;(lnume, ldeno)&l;/span&g;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\ttemp.&l;span class=\&q;built_in\&q;&g;simplify&l;/span&g;();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&l;span class=\&q;keyword\&q;&g;return&l;/span&g; temp;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&a;#125;    &l;span class=\&q;comment\&q;&g;//两个分数相加，结果要化简&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tCFraction  &l;span class=\&q;keyword\&q;&g;operator&l;/span&g;-(&l;span class=\&q;type\&q;&g;const&l;/span&g;  CFraction  &a;amp;c2)&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&l;span class=\&q;type\&q;&g;int&l;/span&g; ldeno = deno * c2.deno;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&l;span class=\&q;type\&q;&g;int&l;/span&g; lnume = nume * c2.deno - c2.nume * deno;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&l;span class=\&q;function\&q;&g;CFraction &l;span class=\&q;title\&q;&g;temp&l;/span&g;&l;span class=\&q;params\&q;&g;(lnume, ldeno)&l;/span&g;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\ttemp.&l;span class=\&q;built_in\&q;&g;simplify&l;/span&g;();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&l;span class=\&q;keyword\&q;&g;return&l;/span&g; temp;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&a;#125;    &l;span class=\&q;comment\&q;&g;//两个分数相减，结果要化简&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tCFraction  &l;span class=\&q;keyword\&q;&g;operator&l;/span&g;*(&l;span class=\&q;type\&q;&g;const&l;/span&g;  CFraction  &a;amp;c2)&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&l;span class=\&q;type\&q;&g;int&l;/span&g; ldeno = deno * c2.deno;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&l;span class=\&q;type\&q;&g;int&l;/span&g; lnume = nume * c2.nume;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&l;span class=\&q;function\&q;&g;CFraction &l;span class=\&q;title\&q;&g;temp&l;/span&g;&l;span class=\&q;params\&q;&g;(lnume, ldeno)&l;/span&g;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\ttemp.&l;span class=\&q;built_in\&q;&g;simplify&l;/span&g;();&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&l;span class=\&q;keyword\&q;&g;return&l;/span&g; temp;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&a;#125;    &l;span class=\&q;comment\&q;&g;//两个分数相乘，结果要化简&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tCFraction  &l;span class=\&q;keyword\&q;&g;operator&l;/span&g;/(&l;span class=\&q;type\&q;&g;const&l;/span&g;  CFraction  &a;amp;c2)&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&l;span class=\&q;function\&q;&g;CFraction &l;span class=\&q;title\&q;&g;rotate&l;/span&g;&l;span class=\&q;params\&q;&g;(c2.deno, c2.nume)&l;/span&g;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&l;span class=\&q;keyword\&q;&g;return&l;/span&g; *&l;span class=\&q;keyword\&q;&g;this&l;/span&g;*rotate;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&a;#125;    &l;span class=\&q;comment\&q;&g;//两个分数相除，结果要化简&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;istream&a;amp; &l;span class=\&q;keyword\&q;&g;operator&l;/span&g;&a;gt;&a;gt;(istream  &a;amp;in, CFraction  &a;amp;x)&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;type\&q;&g;char&l;/span&g; temp;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tin &a;gt;&a;gt; x.nume &a;gt;&a;gt; temp &a;gt;&a;gt; x.deno;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;keyword\&q;&g;return&l;/span&g; in;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;ostream&a;amp;  &l;span class=\&q;keyword\&q;&g;operator&l;/span&g;&a;lt;&a;lt;(ostream  &a;amp;out, CFraction  x)&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;keyword\&q;&g;if&l;/span&g; (x.deno == &l;span class=\&q;number\&q;&g;1&l;/span&g;)&a;#123; out &a;lt;&a;lt; x.nume &a;lt;&a;lt; endl; &a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;keyword\&q;&g;else&l;/span&g; out &a;lt;&a;lt; (x.nume &a;lt; &l;span class=\&q;number\&q;&g;0&l;/span&g; ? showpos : noshowpos) &a;lt;&a;lt; x.nume &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;/&a;quot;&l;/span&g; &a;lt;&a;lt; noshowpos &a;lt;&a;lt; x.deno;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;keyword\&q;&g;return&l;/span&g; out;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;keyword\&q;&g;inline&l;/span&g; &l;span class=\&q;type\&q;&g;int&l;/span&g; &l;span class=\&q;title\&q;&g;gcd&l;/span&g;&l;span class=\&q;params\&q;&g;(&l;span class=\&q;type\&q;&g;int&l;/span&g; a, &l;span class=\&q;type\&q;&g;int&l;/span&g; b)&l;/span&g; &l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\ta = &l;span class=\&q;built_in\&q;&g;abs&l;/span&g;(a);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tb = &l;span class=\&q;built_in\&q;&g;abs&l;/span&g;(b);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;type\&q;&g;int&l;/span&g; r;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;keyword\&q;&g;while&l;/span&g; (b &a;gt; &l;span class=\&q;number\&q;&g;0&l;/span&g;) &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\tr = a % b;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\ta = b;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\tb = r;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;keyword\&q;&g;return&l;/span&g; a;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;type\&q;&g;void&l;/span&g; &l;span class=\&q;title\&q;&g;CFraction::simplify&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g; &l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;type\&q;&g;int&l;/span&g; common = &l;span class=\&q;built_in\&q;&g;gcd&l;/span&g;(deno, nume);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tnume /= common;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tdeno /= common;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//CFraction  operator+(const  CFraction  &a;amp;c1, const  CFraction  &a;amp;c2)&a;#123;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//\tint deno = c1.deno * c2.deno;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//\tint nume = c1.nume * c2.deno + c2.nume * c1.deno;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//\tCFraction temp(nume, deno);&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//\ttemp.simplify();&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//\treturn temp;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//&a;#125;    //两个分数相加，结果要化简&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//CFraction  operator-(const  CFraction  &a;amp;c1, const  CFraction  &a;amp;c2)&a;#123;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//\tint deno = c1.deno * c2.deno;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//\tint nume = c1.nume * c2.deno - c2.nume * c1.deno;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//\tCFraction temp(nume, deno);&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//\ttemp.simplify();&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//\treturn temp;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//&a;#125;    //两个分数相减，结果要化简&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//CFraction  operator*(const  CFraction  &a;amp;c1, const  CFraction  &a;amp;c2)&a;#123;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//\tint deno = c1.deno * c2.deno;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//\tint nume = c1.nume * c2.nume;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//\tCFraction temp(nume, deno);&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//\ttemp.simplify();&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//\treturn temp;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//&a;#125;    //两个分数相乘，结果要化简&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//CFraction  operator/(const  CFraction  &a;amp;c1, const  CFraction  &a;amp;c2)&a;#123;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//\tCFraction rotate(c2.deno, c2.nume);&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//\treturn c1*rotate;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;comment\&q;&g;//&a;#125;    //两个分数相除，结果要化简&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;type\&q;&g;int&l;/span&g;  &l;span class=\&q;title\&q;&g;main&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tCFraction  x, y, s;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;Input x: &a;quot;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcin &a;gt;&a;gt; x;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;Input y: &a;quot;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcin &a;gt;&a;gt; y;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\ts = x + y;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;x+y=&a;quot;&l;/span&g; &a;lt;&a;lt; s &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\ts = x - y;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;x-y=&a;quot;&l;/span&g; &a;lt;&a;lt; s &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\ts = x*y;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;x*y=&a;quot;&l;/span&g; &a;lt;&a;lt; s &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\ts = x / y;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;x/y=&a;quot;&l;/span&g; &a;lt;&a;lt; s &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;built_in\&q;&g;system&l;/span&g;(&l;span class=\&q;string\&q;&g;&a;quot;pause&a;quot;&l;/span&g;);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;keyword\&q;&g;return&l;/span&g;  &l;span class=\&q;number\&q;&g;0&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;\n&l;figure class=\&q;highlight c++\&q;&g;&l;table&g;&l;tr&g;&l;td class=\&q;gutter\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;1&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;2&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;3&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;4&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;5&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;6&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;7&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;8&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;9&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;10&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;11&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;12&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;13&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;14&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;15&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;16&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;17&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;18&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;19&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;20&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;21&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;22&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;23&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;24&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;25&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;26&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;27&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;28&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;29&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;30&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;31&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;32&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;33&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;34&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;35&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;36&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;37&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;38&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;39&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;40&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;41&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;42&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;43&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;44&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;45&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;46&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;47&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;48&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;49&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;50&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;51&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;52&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;53&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;54&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;55&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;56&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;57&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;58&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;59&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;60&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;61&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;62&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;63&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;64&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;65&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;66&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;67&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;68&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;69&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;70&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;71&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;72&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;73&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;74&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;75&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;76&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;77&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;78&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;79&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;80&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;81&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;82&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;83&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;84&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;85&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;td class=\&q;code\&q;&g;&l;pre&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;keyword\&q;&g;include&l;/span&g;&l;span class=\&q;string\&q;&g;&a;lt;iostream&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;keyword\&q;&g;include&l;/span&g;&l;span class=\&q;string\&q;&g;&a;lt;string&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;keyword\&q;&g;include&l;/span&g;&l;span class=\&q;string\&q;&g;&a;lt;string.h&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;using&l;/span&g;  &l;span class=\&q;keyword\&q;&g;namespace&l;/span&g;  std;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;meta\&q;&g;#&l;span class=\&q;keyword\&q;&g;include&l;/span&g; &l;span class=\&q;string\&q;&g;&a;lt;vector&a;gt;&l;/span&g;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;class&l;/span&g; &l;span class=\&q;title class_\&q;&g;Matrix&l;/span&g; &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;keyword\&q;&g;public&l;/span&g;:&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tvector&a;lt;&l;span class=\&q;type\&q;&g;int&l;/span&g;&a;gt; v;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;type\&q;&g;int&l;/span&g; i, j;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;comment\&q;&g;// 构造函数&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;built_in\&q;&g;Matrix&l;/span&g;(&l;span class=\&q;type\&q;&g;int&l;/span&g; i, &l;span class=\&q;type\&q;&g;int&l;/span&g; j) :&l;span class=\&q;built_in\&q;&g;i&l;/span&g;(i), &l;span class=\&q;built_in\&q;&g;j&l;/span&g;(j) &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\tv.&l;span class=\&q;built_in\&q;&g;resize&l;/span&g;(i * j);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;comment\&q;&g;// 赋值运算&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tMatrix&a;amp; &l;span class=\&q;keyword\&q;&g;operator&l;/span&g;=(&l;span class=\&q;type\&q;&g;const&l;/span&g; Matrix&a;amp; m) &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;span class=\&q;built_in\&q;&g;copy&l;/span&g;(m.v.&l;span class=\&q;built_in\&q;&g;begin&l;/span&g;(), m.v.&l;span class=\&q;built_in\&q;&g;end&l;/span&g;(), v.&l;span class=\&q;built_in\&q;&g;begin&l;/span&g;());&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\tj = m.j;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\ti = m.i;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;span class=\&q;keyword\&q;&g;return&l;/span&g; *&l;span class=\&q;keyword\&q;&g;this&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;comment\&q;&g;// 重载 &a;lt;&a;lt; &l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;keyword\&q;&g;friend&l;/span&g; ostream&a;amp; &l;span class=\&q;keyword\&q;&g;operator&l;/span&g;&a;lt;&a;lt;(ostream&a;amp; out, Matrix&a;amp; m) &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;span class=\&q;keyword\&q;&g;for&l;/span&g; (&l;span class=\&q;type\&q;&g;int&l;/span&g; p = &l;span class=\&q;number\&q;&g;0&l;/span&g;; p &a;lt; m.i; p++) &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&l;span class=\&q;keyword\&q;&g;for&l;/span&g; (&l;span class=\&q;type\&q;&g;int&l;/span&g; q = &l;span class=\&q;number\&q;&g;0&l;/span&g;; q &a;lt; m.j; q++) &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t\tout &a;lt;&a;lt; m.v[p * m.j + q] &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot; &a;quot;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\tout &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;span class=\&q;keyword\&q;&g;return&l;/span&g; out;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;comment\&q;&g;// 重载 &a;gt;&a;gt;&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;keyword\&q;&g;friend&l;/span&g; istream&a;amp; &l;span class=\&q;keyword\&q;&g;operator&l;/span&g;&a;gt;&a;gt; (istream&a;amp; in, Matrix&a;amp; m) &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;span class=\&q;keyword\&q;&g;for&l;/span&g; (&l;span class=\&q;type\&q;&g;int&l;/span&g; i = &l;span class=\&q;number\&q;&g;0&l;/span&g;; i &a;lt; m.v.&l;span class=\&q;built_in\&q;&g;size&l;/span&g;(); i++) cin &a;gt;&a;gt; m.v[i];&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;span class=\&q;keyword\&q;&g;return&l;/span&g; in;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;comment\&q;&g;// 重载 += &l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;type\&q;&g;void&l;/span&g; &l;span class=\&q;keyword\&q;&g;operator&l;/span&g;+=(&l;span class=\&q;type\&q;&g;const&l;/span&g; Matrix&a;amp; m) &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;span class=\&q;keyword\&q;&g;if&l;/span&g; (i != m.i || j != m.j) cout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;ERROR!&a;quot;&l;/span&g; &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;span class=\&q;keyword\&q;&g;else&l;/span&g; &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&l;span class=\&q;keyword\&q;&g;for&l;/span&g; (&l;span class=\&q;type\&q;&g;int&l;/span&g; i = &l;span class=\&q;number\&q;&g;0&l;/span&g;; i &a;lt; m.v.&l;span class=\&q;built_in\&q;&g;size&l;/span&g;(); i++) v[i] += m.v[i];&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\tcout &a;lt;&a;lt; *&l;span class=\&q;keyword\&q;&g;this&l;/span&g; &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;comment\&q;&g;// 重载 *=&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;type\&q;&g;void&l;/span&g; &l;span class=\&q;keyword\&q;&g;operator&l;/span&g;*=(&l;span class=\&q;type\&q;&g;const&l;/span&g; Matrix&a;amp; m) &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;span class=\&q;keyword\&q;&g;if&l;/span&g; (j != m.i) cout &a;lt;&a;lt; &l;span class=\&q;string\&q;&g;&a;quot;ERROR!&a;quot;&l;/span&g; &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;span class=\&q;keyword\&q;&g;else&l;/span&g; &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\tMatrix &l;span class=\&q;built_in\&q;&g;res&l;/span&g;(i, m.j);&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&l;span class=\&q;comment\&q;&g;// 矩阵乘, 比如 ij 矩阵 乘 jk 矩阵得到 ik 矩阵, 求ik矩阵只需遍历i行k列, 然后遍历j次求和得到 m[i][k]   &l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&l;span class=\&q;keyword\&q;&g;for&l;/span&g; (&l;span class=\&q;type\&q;&g;int&l;/span&g; p = &l;span class=\&q;number\&q;&g;0&l;/span&g;; p &a;lt; res.i; p++) &a;#123;   &l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t\t&l;span class=\&q;keyword\&q;&g;for&l;/span&g; (&l;span class=\&q;type\&q;&g;int&l;/span&g; q = &l;span class=\&q;number\&q;&g;0&l;/span&g;; q &a;lt;res.j; q++) &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t\t\t&l;span class=\&q;keyword\&q;&g;for&l;/span&g; (&l;span class=\&q;type\&q;&g;int&l;/span&g; r = &l;span class=\&q;number\&q;&g;0&l;/span&g;; r &a;lt; j; r++) &a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t\t\t\tres.v[p * res.j + q] = res.v[p * res.j + q] + v[p * j + r] * m.v[r * m.j + q];&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t\t\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\t&l;span class=\&q;built_in\&q;&g;copy&l;/span&g;(res.v.&l;span class=\&q;built_in\&q;&g;begin&l;/span&g;(), res.v.&l;span class=\&q;built_in\&q;&g;end&l;/span&g;(), v.&l;span class=\&q;built_in\&q;&g;begin&l;/span&g;());&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t\tcout &a;lt;&a;lt; *&l;span class=\&q;keyword\&q;&g;this&l;/span&g; &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;comment\&q;&g;// 重载()&l;/span&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;function\&q;&g;&l;span class=\&q;type\&q;&g;int&l;/span&g; &l;span class=\&q;title\&q;&g;operator&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g;&l;span class=\&q;params\&q;&g;(&l;span class=\&q;type\&q;&g;int&l;/span&g; a, &l;span class=\&q;type\&q;&g;int&l;/span&g; b)&l;/span&g; &l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t\t&l;span class=\&q;keyword\&q;&g;return&l;/span&g; v[a * j + b];&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&a;#125;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;span class=\&q;function\&q;&g;&l;span class=\&q;type\&q;&g;int&l;/span&g; &l;span class=\&q;title\&q;&g;main&l;/span&g;&l;span class=\&q;params\&q;&g;()&l;/span&g; &l;/span&g;&a;#123;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;type\&q;&g;int&l;/span&g; row1, col1, row2, col2;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcin &a;gt;&a;gt; row1 &a;gt;&a;gt; col1;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;function\&q;&g;Matrix &l;span class=\&q;title\&q;&g;m1&l;/span&g;&l;span class=\&q;params\&q;&g;(row1, col1)&l;/span&g;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcin &a;gt;&a;gt; m1;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcin &a;gt;&a;gt; row2 &a;gt;&a;gt; col2;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;function\&q;&g;Matrix &l;span class=\&q;title\&q;&g;m2&l;/span&g;&l;span class=\&q;params\&q;&g;(row2, col2)&l;/span&g;&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcin &a;gt;&a;gt; m2;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcout &a;lt;&a;lt; &l;span class=\&q;built_in\&q;&g;m1&l;/span&g;(row1 / &l;span class=\&q;number\&q;&g;2&l;/span&g;, col1 / &l;span class=\&q;number\&q;&g;2&l;/span&g;) &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tm1 *= m2;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tm1 += m2;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tm1 = m2;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\tcout &a;lt;&a;lt; m1 &a;lt;&a;lt; endl;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;\t&l;span class=\&q;keyword\&q;&g;return&l;/span&g; &l;span class=\&q;number\&q;&g;0&l;/span&g;;&l;/span&g;&l;br&g;&l;span class=\&q;line\&q;&g;&a;#125;&l;/span&g;&l;br&g;&l;/pre&g;&l;/td&g;&l;/tr&g;&l;/table&g;&l;/figure&g;&q;,&q;prev&q;:{&q;title&q;:&q;[博客健设六]RSS订阅&q;,&q;link&q;:&q;2023/04/18/[博客健设六]RSS订阅&q;},&q;next&q;:{&q;title&q;:&q;[C++Task]&q;,&q;link&q;:&q;2023/04/16/[C++Task]&q;},&q;plink&q;:&q;https://s1acr.github.io/2023/04/16/[C++Lab]/&q;,&q;toc&q;:[{&q;id&q;:&q;lab2_3&q;,&q;title&q;:&q;lab2_3&q;,&q;index&q;:&q;1&q;,&q;children&q;:[{&q;id&q;:&q;题目&q;,&q;title&q;:&q;题目&q;,&q;index&q;:&q;1.1&q;},{&q;id&q;:&q;解答&q;,&q;title&q;:&q;解答&q;,&q;index&q;:&q;1.2&q;}]},{&q;id&q;:&q;lab3_1&q;,&q;title&q;:&q;lab3_1&q;,&q;index&q;:&q;2&q;,&q;children&q;:[{&q;id&q;:&q;题目-1&q;,&q;title&q;:&q;题目&q;,&q;index&q;:&q;2.1&q;},{&q;id&q;:&q;解答-1&q;,&q;title&q;:&q;解答&q;,&q;index&q;:&q;2.2&q;}]},{&q;id&q;:&q;lab3_2&q;,&q;title&q;:&q;lab3_2&q;,&q;index&q;:&q;3&q;,&q;children&q;:[{&q;id&q;:&q;题目-2&q;,&q;title&q;:&q;题目&q;,&q;index&q;:&q;3.1&q;},{&q;id&q;:&q;解答-2&q;,&q;title&q;:&q;解答&q;,&q;index&q;:&q;3.2&q;}]},{&q;id&q;:&q;lab5&q;,&q;title&q;:&q;lab5&q;,&q;index&q;:&q;4&q;},{&q;id&q;:&q;lab6&q;,&q;title&q;:&q;lab6&q;,&q;index&q;:&q;5&q;}],&q;reward&q;:true,&q;copyright&q;:{&q;author&q;:&q;slacr_&q;,&q;license&q;:&q;&l;a href=\&q;https://creativecommons.org/licenses/by-nc-sa/4.0/\&q; target=\&q;_blank\&q;&g;&l;img src = \&q;/lib/cc-by-nc-sa.svg\&q;&g;CC BY-NC-ND 4.0&l;/a&g;&q;,&q;published&q;:&q;April 16, 2023&q;,&q;updated&q;:&q;April 16, 2023&q;},&q;reading_time&q;:&q;4116 words in 27 min&q;}}</script></head>
<body lang="en"><!-- hexo injector body_begin start --><is-a class="φh" ng-version="12.1.0"><is-k class="φcu"><div class="φdg"><section class="φdh"><header class="φcv"><i class="φda"></i><!----><div issnippet="" class="φcx"><img src="https://thirdqq.qlogo.cn/g?b=oidb&amp;k=ia9j8LGcEXYic3XyY1h1ibnxg&amp;s=0&amp;rand=1680719837">
</div><!----><!----><a href="" class="φcz">slacr_</a><p class="φcy">Crap Programmer, College Student From CN. Idealist and Minimalism, life-long learner. I was lucky to find out what I truly have passion for. 🚬.</p></header><div class="φdl"><a routerlink="/archives" class="φdm" href="/archives"><span>57</span><span>Archives</span></a><a class="φdm" href="/categories/C"><span>16</span><span>Categories</span></a><!----><a routerlink="/tags" class="φdm" href="/tags"><span>3</span><span>Tags</span></a><!----></div><!----><nav class="φdi"><a class="φdj" href="/">Home</a><!----><!----><!----><a class="φdj" href="/search">Search</a><!----><!----><!----><a class="φdj" href="/link">Link</a><!----><!----><!----><a class="φdj" href="/log">Log</a><!----><!----><!----><!----></nav><!----><div issnippet="" class="φb"><is-palette col="5" theme="#673ab7,#3f51b5,#2196f3,#009688,#4caf50,#ff9800,#ff5722,#795548,#607D8B,#2a2b33"></is-palette></div><div issnippet="" class="φb">
</div><div issnippet="" class="φb">
</div><div issnippet="" class="φb">
</div><!----><!----><!----></section><footer class="φdb φdc"><div class="φde"><!----><a target="_blank" rel="external nofollow noopener" class="φdf" title="email me" href="mailto:diogocdiogocosta3346@gmail.com"><i class="iκ-email"></i></a><!----><!----><!----><a target="_blank" rel="external nofollow noopener" class="φdf" title="Feed" href="/atom.xml"><i class="iκ-feed"></i></a><!----><!----><!----><a target="_blank" rel="external nofollow noopener" class="φdf" title="github" href="https://github.com/s1acr"><i class="iκ-github"></i></a><!----><!----><!----><a target="_blank" rel="external nofollow noopener" class="φdf" title="qqGroup" href="https://qm.qq.com/cgi-bin/qm/qr?k=CwUa3gRbNtBAJRLHVwFiM4KZBiuqBSk9&amp;jump_from=webapi&amp;authKey=FhTodgrqXmM0pc0x/fT1U9yAtc6yJlWqoc5qnT5QepMGdVuCUxRlmY3bGklQd7fW"><i class="iκ-qq"></i></a><!----><!----><!----></div><!----><p class="φe">© 2023 <span id="sunflowerArea"><span id="sunflower">🌻</span> <a id="mySign" href="javascript:;"> Slacr F</a></span></p><!----><!----><p class="φe"><span id="busuanzi_container_site_uv" style="display:none">Total <b><span id="busuanzi_value_site_uv"></span></b> Visitors </span><span id="busuanzi_container_site_pv" style="display:none"><b><span id="busuanzi_value_site_pv"></span></b> Views</span><br> Hosted by <a target="_blank" rel="external nofollow" href="https://pages.github.com/"><b>Github Pages</b></a></p><!----></footer></div></is-k><div class="φj"><div class="φi"><div class="φn"><main class="φm"><router-outlet></router-outlet><is-r class="φet"><header class="φfd φfe" style="background-image:;background-color:;"><div class="φfm"><h1 class="φfp">[C++Lab]</h1><!----><p class="φff"><span class="φfg φfk">Apr 16, 2023</span><a class="φfg φfi" href="/categories/C%2B%2B">C++</a><!----><span class="φfg φfj">4116 words in 27 min</span><!----><!----></p><!----><!----></div></header><article itemscope="" itemtype="http://schema.org/Article" class="φew" data-title="[C++Lab]"><div itemprop="articleBody" issnippet="" iszoomable="" class="φe"><blockquote>
<p>C++实验课</p>
</blockquote>
<h2 id="lab2_3">lab2_3<a title="#lab2_3" href="#lab2_3"></a></h2>
<h3 id="题目">题目<a title="#题目" href="#题目"></a></h3>
<p>补充实验：成绩表里找同学<br>
【问题描述】<br>
编写一个程序，读入 N 个同学的姓名和语数外三门功课的单科成绩，对其按照一定的排序规则排序形成一张成绩表（先按总分从高到低排序，总分相同则按语文成绩由高到低排序，仍然相同则按数学成绩由高到低排序，若总分和单科成绩均相同则最后按姓名的字典序排序）。最后给定一个数字 K(K&lt;=N) ，输出在这张排好序的成绩表中位置在第 K 位的同学的姓名和总分。<br>
字典序举例说明：<br>
abc &gt; abd<br>
a &gt; aa<br>
要求：用C++对象数组表示学生数据。采用多文件结构，类的声明放在头文件如student.h，类的实现放在源文件如student.cpp。<br>
【输入形式】<br>
第一行输入一个正整数 N(1&lt;=N&lt;=1024)，代表接下来将录入 N 个学生的成绩。<br>
接下来 N 行录入 N 条学生的成绩记录，每条记录依次为姓名，语文成绩，数学成绩，英语成绩，这四个字段以空格分隔。姓名为字符串（仅包含小写字母，不含空格，长度&lt;=19），学生之间不会重名。三科成绩均为整数（0~100）。<br>
最后输入一个正整数 K(1&lt;=K&lt;=N)，代表需要在成绩表中从前往后找到的位置。<br>
【输出形式】<br>
在成绩表中从前往后处在第 K 位的同学的姓名和总分，中间以空格分隔。<br>
【样例输入1】<br>
2<br>
tom 90 91 92<br>
lucy 91 90 92<br>
1<br>
【样例输出1】<br>
lucy 273<br>
【样例输入2】<br>
4<br>
lily 90 100 88<br>
jack 87 79 95<br>
hanz 90 89 71<br>
david 90 89 71<br>
4<br>
【样例输出2】<br>
hanz 250</p>
<h3 id="解答">解答<a title="#解答" href="#解答"></a></h3>
<figure class="highlight plaintext"><figcaption><span>lab2_3_Stu.h C++</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#pragma once</span><br><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;string&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">class Student {</span><br><span class="line">public:</span><br><span class="line">	string name;</span><br><span class="line">	int yu;</span><br><span class="line">	int shu;</span><br><span class="line">	int wai;</span><br><span class="line">	int sum;</span><br><span class="line">	Student() {}</span><br><span class="line">	Student(string name, int yu, int shu, int wai) :name(name), yu(yu), shu(shu), wai(wai) {}</span><br><span class="line">	void setInfo();</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight plaintext"><figcaption><span>lab2_3_Stu.cpp C++</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#include "lab2_3_Stu.h"</span><br><span class="line">void Student::setInfo() {</span><br><span class="line">	cin &gt;&gt; this-&gt;name;</span><br><span class="line">	cin &gt;&gt; this-&gt;yu;</span><br><span class="line">	cin &gt;&gt; this-&gt;shu;</span><br><span class="line">	cin &gt;&gt; this-&gt;wai;</span><br><span class="line">	sum = this-&gt;yu + this-&gt;wai + this-&gt;shu;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight plaintext"><figcaption><span>lab2_3.cpp C++</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;string&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line">#include &lt;algorithm&gt;</span><br><span class="line">#include "lab2_3_Stu.h"</span><br><span class="line">class Mypred {</span><br><span class="line">public:</span><br><span class="line">	bool operator()(Student s1, Student s2) {</span><br><span class="line">		if (s1.sum == s2.sum) {</span><br><span class="line">			return s1.name &lt; s2.name;</span><br><span class="line">		}</span><br><span class="line">		else</span><br><span class="line">		{</span><br><span class="line">			return s1.sum &gt; s2.sum;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">};</span><br><span class="line">class ScoreSheet {</span><br><span class="line">public:</span><br><span class="line">	int numOfStu;</span><br><span class="line">	vector&lt;Student&gt; vstus;</span><br><span class="line">	void initSheet() {</span><br><span class="line">		cin &gt;&gt; numOfStu;</span><br><span class="line">		vstus.resize(numOfStu);</span><br><span class="line">		for (int i = 0; i &lt; numOfStu; i++)</span><br><span class="line">		{</span><br><span class="line">			Student stu;</span><br><span class="line">			stu.setInfo();</span><br><span class="line">			vstus[i] = stu;</span><br><span class="line">		}</span><br><span class="line">		sort(vstus.begin(), vstus.end(), Mypred());</span><br><span class="line">	}</span><br><span class="line">	void queeryCode() {</span><br><span class="line">		int code;</span><br><span class="line">		cin &gt;&gt; code;</span><br><span class="line">		cout &lt;&lt; vstus[code-1].name &lt;&lt; " " &lt;&lt; vstus[code-1].sum &lt;&lt; endl;</span><br><span class="line">	}</span><br><span class="line">};</span><br><span class="line">int main() {</span><br><span class="line">	ScoreSheet ss;</span><br><span class="line">	ss.initSheet();</span><br><span class="line">	ss.queeryCode();</span><br><span class="line">	return 0;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>分文件, 我这里只分了一个<br>
<strong>分文件方法:</strong><br>
.h 中放声明, .cpp中放实现, 主函数中引用 .h<br>
或者.hpp中放声明和实现, 主函数中引用 .hpp<br>
这题很典型, vector容器储存, sort算法排序传个谓词进去, 不同排序的方式由谓词实现.</p>
<h2 id="lab3_1">lab3_1<a title="#lab3_1" href="#lab3_1"></a></h2>
<h3 id="题目-1">题目<a title="#题目-1" href="#题目-1"></a></h3>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">编写一个学生和教师数据输入和显示程序。其中，学生数据有编号、姓名、班级和成绩，教师数据有编号、姓名、职称和部门。</span><br><span class="line">要求：</span><br><span class="line">（1）将编号、姓名输入和显示设计成一个类person；</span><br><span class="line">（2）设计类person的派生类：学生类student和教师类teacher；</span><br><span class="line">（3）主函数中分别定义一个学生对象和教师对象进行测试。</span><br><span class="line">【输入形式】</span><br><span class="line">程序参考的输入（输入数据前面为提示文字）：</span><br><span class="line">Input id:1</span><br><span class="line">Input name:zhangsan</span><br><span class="line">Input class:1</span><br><span class="line">Input score:90</span><br><span class="line">Input id:2</span><br><span class="line">Input name:lisi</span><br><span class="line">Input title:teacher</span><br><span class="line">Input department:computer</span><br><span class="line">【输出形式】</span><br><span class="line">程序参考的输出：</span><br><span class="line">Student's info:</span><br><span class="line">Id:1</span><br><span class="line">Name:zhangsan</span><br><span class="line">Class:1</span><br><span class="line">Score:90</span><br><span class="line">Teacher's info:</span><br><span class="line">Id:2</span><br><span class="line">Name:lisi</span><br><span class="line">Title:teacher</span><br><span class="line">Department:computer</span><br></pre></td></tr></tbody></table></figure>
<h3 id="解答-1">解答<a title="#解答-1" href="#解答-1"></a></h3>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span>  <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span>  <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span>  <span class="keyword">namespace</span>  std;</span><br><span class="line"><span class="keyword">class</span>  <span class="title class_">person</span></span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">person</span>()</span><br><span class="line">    {</span><br><span class="line">        cout &lt;&lt; <span class="string">"Input  id:"</span>;</span><br><span class="line">        cin &gt;&gt; id;</span><br><span class="line">        cout &lt;&lt; <span class="string">"Input  name:"</span>;</span><br><span class="line">        cin &gt;&gt; name;</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="type">void</span>  <span class="title">display</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        cout &lt;&lt; <span class="string">"Id:"</span> &lt;&lt; id &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">"Name:"</span> &lt;&lt; name &lt;&lt; endl;</span><br><span class="line">    }</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    string  id;</span><br><span class="line">    string  name;</span><br><span class="line">};</span><br><span class="line"><span class="comment">// 填充部分</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">student</span> : <span class="keyword">public</span> person{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">student</span>() {</span><br><span class="line">        cout &lt;&lt; <span class="string">"Input class:"</span>;</span><br><span class="line">        cin &gt;&gt; classNum;</span><br><span class="line">        cout &lt;&lt; <span class="string">"Input score:"</span>;</span><br><span class="line">        cin &gt;&gt; score;</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span> </span>{</span><br><span class="line">        cout &lt;&lt; <span class="string">"Student's info:"</span> &lt;&lt; endl;</span><br><span class="line">        person::<span class="built_in">display</span>();</span><br><span class="line">        cout &lt;&lt; <span class="string">"Class:"</span> &lt;&lt; classNum &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">"Score:"</span> &lt;&lt; score &lt;&lt; endl;</span><br><span class="line">    }</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    string classNum;</span><br><span class="line">    <span class="type">int</span> score;</span><br><span class="line">};</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">teacher</span> : <span class="keyword">public</span> person {</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">teacher</span>() { </span><br><span class="line">        cout &lt;&lt; <span class="string">"Input title:"</span>;</span><br><span class="line">        cin &gt;&gt; title;</span><br><span class="line">        cout &lt;&lt; <span class="string">"Input department:"</span>;</span><br><span class="line">        cin &gt;&gt; department;</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span> </span>{</span><br><span class="line">        cout &lt;&lt; <span class="string">"Teacher's info:"</span> &lt;&lt; endl;</span><br><span class="line">        person::<span class="built_in">display</span>();</span><br><span class="line">        cout &lt;&lt; <span class="string">"Title:"</span> &lt;&lt; title &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">"Department:"</span> &lt;&lt; department &lt;&lt; endl;</span><br><span class="line">    }</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    string title;</span><br><span class="line">    string department;</span><br><span class="line">};</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="type">int</span>  <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    student  stu;</span><br><span class="line">    teacher  tea;</span><br><span class="line">    stu.<span class="built_in">display</span>();</span><br><span class="line">    tea.<span class="built_in">display</span>();</span><br><span class="line">    <span class="keyword">return</span>  <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>一开始想了半天调用父类的private成员要用友元, 又不能更改题目, 后来才发现不是给了公共display接口么. 写派生类多关注公共接口, 私有的不需要管.</p>
<h2 id="lab3_2">lab3_2<a title="#lab3_2" href="#lab3_2"></a></h2>
<h3 id="题目-2">题目<a title="#题目-2" href="#题目-2"></a></h3>
<p>补充：字符串统计排序，继承系统string类<br>
【问题描述】<br>
编写一个程序，接收用户输入的一个字符串(可以包含空格)，统计其中所有出现过的所有字符，并按照频率高低的顺序排列输出。频率相同的字符按输入顺序输出。<br>
【输入形式】<br>
用户在第一行输入一个字符串，以回车结束输入。<br>
【输出形式】<br>
程序统计字符串中出现的所有字符，然后按照字符出现频率大小排序输出，频率相同时，按输入顺序输出。输出形式规定为每行输出4个字符数据，输出格式为：字符-出现次数。每个字符-出现次数输出中间用一个空格分隔，每行末尾没有空格。程序输出结尾有一个回车。<br>
【样例输入】<br>
The job requires an agile mind.<br>
【样例输出】<br>
#-5 e-4 i-3 r-2<br>
a-2 n-2 T-1 h-1<br>
j-1 o-1 b-1 q-1<br>
u-1 s-1 g-1 l-1<br>
m-1 d-1 .-1               #表示空格(在程序请输出空格，而不是字符"#"，这里只是表示而已。)<br>
【样例说明】<br>
用户首先输入字符串The job requires an agile mind. 程序统计完毕之后按照每行4个统计结果输出，字符串中有5个空格，所以输出为#-5,#表示空格。字符’b’和’T’出现次数同为1，因为输入时’b’先于’T’输入，所以输出时也先打印’b’的统计信息。</p>
<h3 id="解答-2">解答<a title="#解答-2" href="#解答-2"></a></h3>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span>  <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span>  <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span>  <span class="keyword">namespace</span>  std;</span><br><span class="line"><span class="keyword">class</span>  <span class="title class_">MyChar</span></span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">MyChar</span>() :<span class="built_in">num</span>(<span class="number">0</span>) {}</span><br><span class="line">	<span class="type">char</span>  ch;        <span class="comment">//字符</span></span><br><span class="line">	<span class="type">int</span>  num;        <span class="comment">//出现次数</span></span><br><span class="line">};</span><br><span class="line"><span class="keyword">class</span>  <span class="title class_">MyString</span> : <span class="keyword">public</span>  string</span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span>  <span class="title">input</span><span class="params">()</span> </span>{</span><br><span class="line">		<span class="built_in">getline</span>(cin, *<span class="keyword">this</span>);  <span class="comment">//输入一行，支持空格</span></span><br><span class="line">		sum = <span class="number">0</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="type">void</span>  <span class="title">putchar</span><span class="params">(<span class="type">char</span>  ch)</span></span>;  <span class="comment">//放入字符</span></span><br><span class="line">	<span class="function"><span class="type">void</span>  <span class="title">compute</span><span class="params">()</span></span>;</span><br><span class="line">	<span class="function"><span class="type">void</span>  <span class="title">output</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	MyChar  chars[<span class="number">300</span>];  <span class="comment">//字符计数</span></span><br><span class="line">	<span class="type">int</span>  sum; <span class="comment">//已有总数</span></span><br><span class="line">};</span><br><span class="line"><span class="function"><span class="type">void</span>  <span class="title">MyString::putchar</span><span class="params">(<span class="type">char</span>  ch)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="comment">// 存在有这个字符的话num++</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; sum; i++)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">if</span> (chars[i].ch == ch)</span><br><span class="line">		{</span><br><span class="line">			chars[i].num++;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">//没有这个字符的话初始化这个字符</span></span><br><span class="line">	chars[sum].ch = ch;</span><br><span class="line">	chars[sum].num++;</span><br><span class="line">	sum++;</span><br><span class="line">}</span><br><span class="line"><span class="comment">// 填空一</span></span><br><span class="line"><span class="function"><span class="type">void</span>  <span class="title">MyString::compute</span><span class="params">()</span> </span>{</span><br><span class="line">	<span class="comment">//分析字符出现频次并排序</span></span><br><span class="line">	<span class="comment">//遍历输入的字符串 </span></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; (*<span class="keyword">this</span>).<span class="built_in">size</span>(); i++) {</span><br><span class="line">		<span class="built_in">putchar</span>((*<span class="keyword">this</span>)[i]);</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">//按照字符个数排序chars[], 冒泡排序, 如果两个字符数量相同, 冒泡排序是安全的, 不会改变位置.</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; sum - <span class="number">1</span>; i++) {</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; sum - i - <span class="number">1</span>; j++) {</span><br><span class="line">			<span class="keyword">if</span> (chars[j].num &lt; chars[j + <span class="number">1</span>].num) {</span><br><span class="line">				<span class="comment">//交换</span></span><br><span class="line">				MyChar temp = chars[j];</span><br><span class="line">				chars[j] = chars[j + <span class="number">1</span>];</span><br><span class="line">				chars[j + <span class="number">1</span>] = temp;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// 填空二</span></span><br><span class="line"><span class="function"><span class="type">void</span>  <span class="title">MyString::output</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="comment">//输出分析结果</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= sum; i++)</span><br><span class="line">	{</span><br><span class="line">		cout &lt;&lt; chars[i - <span class="number">1</span>].ch &lt;&lt; <span class="string">"-"</span> &lt;&lt; chars[i - <span class="number">1</span>].num &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">		<span class="keyword">if</span> (i % <span class="number">4</span> == <span class="number">0</span>) cout &lt;&lt; endl;</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="comment">//使得程序正确执行</span></span><br><span class="line"><span class="function"><span class="type">int</span>  <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	MyString  s;</span><br><span class="line">	s.<span class="built_in">input</span>();</span><br><span class="line">	s.<span class="built_in">compute</span>();</span><br><span class="line">	s.<span class="built_in">output</span>();</span><br><span class="line">	<span class="keyword">return</span>  <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>要看懂每一个函数是做什么, <code>getline(cin, *this);</code>, 用到了多态, *this是string的派生类, 父类指针指向子类对象.<br>
chars[]中的是引用对象, 交换位置的时候交换引用就行了, 而不是值交换.</p>
<h2 id="lab5">lab5<a title="#lab5" href="#lab5"></a></h2>
<p>两道分析题</p>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span>   <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span>   <span class="string">&lt;complex&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span>   std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span></span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Base</span>() { cout &lt;&lt; <span class="string">"Base-ctor"</span> &lt;&lt; endl; }</span><br><span class="line">    ~<span class="built_in">Base</span>() { cout &lt;&lt; <span class="string">"Base-dtor"</span> &lt;&lt; endl; }</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">f</span><span class="params">(<span class="type">int</span>)</span> </span>{ cout &lt;&lt; <span class="string">"Base::f(int)"</span> &lt;&lt; endl; }</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">f</span><span class="params">(<span class="type">double</span>)</span> </span>{ cout &lt;&lt; <span class="string">"Base::f(double)"</span> &lt;&lt; endl; }</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">g</span><span class="params">(<span class="type">int</span> i = <span class="number">10</span>)</span> </span>{ cout &lt;&lt; <span class="string">"Base::g()"</span> &lt;&lt; i &lt;&lt; endl; }</span><br><span class="line">};</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Derived</span> : <span class="keyword">public</span> Base</span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Derived</span>() { cout &lt;&lt; <span class="string">"Derived-ctor"</span> &lt;&lt; endl; }</span><br><span class="line">    ~<span class="built_in">Derived</span>() { cout &lt;&lt; <span class="string">"Derived-dtor"</span> &lt;&lt; endl; }</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">f</span><span class="params">(complex&lt;<span class="type">double</span>&gt;)</span> </span>{</span><br><span class="line">        cout &lt;&lt; <span class="string">"Derived::f(complex)"</span> &lt;&lt; endl;</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">g</span><span class="params">(<span class="type">int</span>   i = <span class="number">20</span>)</span> </span>{</span><br><span class="line">        cout &lt;&lt; <span class="string">"Derived::g()"</span> &lt;&lt; i &lt;&lt; endl;</span><br><span class="line">    }</span><br><span class="line">};</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    cout &lt;&lt; <span class="built_in">sizeof</span>(Base) &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="built_in">sizeof</span>(Derived) &lt;&lt; endl;</span><br><span class="line">    Base b;</span><br><span class="line">    Derived d;</span><br><span class="line">    Base* pb = <span class="keyword">new</span> Derived;</span><br><span class="line">    b.<span class="built_in">f</span>(<span class="number">1.0</span>);</span><br><span class="line">    d.<span class="built_in">f</span>(<span class="number">1.0</span>);</span><br><span class="line">    pb-&gt;<span class="built_in">f</span>(<span class="number">1.0</span>);</span><br><span class="line">    b.<span class="built_in">g</span>();</span><br><span class="line">    d.<span class="built_in">g</span>();</span><br><span class="line">    pb-&gt;<span class="built_in">g</span>();</span><br><span class="line">    <span class="keyword">delete</span> pb;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">分析： </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">8                         // vfptr 64位 占 8 字节, 32位占 4 字节</span></span><br><span class="line"><span class="comment">8                          // 同上</span></span><br><span class="line"><span class="comment">Base-ctor                   //  基类构造</span></span><br><span class="line"><span class="comment">Base-ctor                   // 派生类先构造基类再构造派生类</span></span><br><span class="line"><span class="comment">Derived-ctor        </span></span><br><span class="line"><span class="comment">Base-ctor                      // new 创建派生类再堆区， 同上先构造基类再构造派生类</span></span><br><span class="line"><span class="comment">Derived-ctor</span></span><br><span class="line"><span class="comment">Base::f(double)                 // 本类函数调用</span></span><br><span class="line"><span class="comment">Derived::f(complex)             //  本类函数调用</span></span><br><span class="line"><span class="comment">Base::f(double)                 // pb是基类指针指向派生类对象，调用f函数，先再Derived类中的Base中匹配发现无， 再利用继承的vfptr向vftable中寻找发现匹配基类中的函数， 调用, 基类f函数没有重写. 虚表中还是基类函数的地址 </span></span><br><span class="line"><span class="comment">Base::g()10                     //  本类函数调用</span></span><br><span class="line"><span class="comment">Derived::g()20                   //   本类函数调用</span></span><br><span class="line"><span class="comment">Derived::g()10                    //   pb依旧先在Derived中的Base下寻找g发现无, 利用继承的vfptr向vftable中寻找, 因为Derived重写了Base的g, 继承时基类虚表的g函数地址被改变, 从而调用派生类的g</span></span><br><span class="line"><span class="comment">Base-dtor                           // delete释放, pb调用派生类下基类析构</span></span><br><span class="line"><span class="comment">Derived-dtor                        // 编译器自动调用清理内存, 按主函数调用栈中本地变量的创建顺序相反, 析构d, 先析构派生类再析构基类 </span></span><br><span class="line"><span class="comment">Base-dtor</span></span><br><span class="line"><span class="comment">Base-dtor                           //析构b</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span>   <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span>   <span class="keyword">namespace</span>   std;</span><br><span class="line"><span class="keyword">class</span>   <span class="title class_">Base</span></span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Base</span>() :<span class="built_in">data</span>(count)</span><br><span class="line">    {</span><br><span class="line">        cout &lt;&lt; <span class="string">"Base-ctor"</span> &lt;&lt; endl;</span><br><span class="line">        ++count;</span><br><span class="line">    }</span><br><span class="line">     ~<span class="built_in">Base</span>()</span><br><span class="line">    {</span><br><span class="line">        cout &lt;&lt; <span class="string">"Base-dtor"</span> &lt;&lt; endl;</span><br><span class="line">        --count;</span><br><span class="line">    }</span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> count;</span><br><span class="line">    <span class="type">int</span> data;</span><br><span class="line">};</span><br><span class="line"><span class="type">int</span> Base::count;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Derived</span> : <span class="keyword">public</span> Base</span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Derived</span>() :<span class="built_in">data</span>(count), <span class="built_in">data1</span>(data)</span><br><span class="line">    {</span><br><span class="line">        cout &lt;&lt; <span class="string">"Derived-ctor"</span> &lt;&lt; endl;</span><br><span class="line">        ++count;</span><br><span class="line">    }</span><br><span class="line">    ~<span class="built_in">Derived</span>()</span><br><span class="line">    {</span><br><span class="line">        cout &lt;&lt; <span class="string">"Derived-dtor"</span> &lt;&lt; endl;</span><br><span class="line">        --count;</span><br><span class="line">    }</span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> count;</span><br><span class="line">    <span class="type">int</span> data1;</span><br><span class="line">    <span class="type">int</span> data;</span><br><span class="line">};</span><br><span class="line"><span class="type">int</span> Derived::count = <span class="number">10</span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    cout &lt;&lt; <span class="built_in">sizeof</span>(Base) &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="built_in">sizeof</span>(Derived) &lt;&lt; endl;</span><br><span class="line">    Base* pb = <span class="keyword">new</span> Derived[<span class="number">3</span>];</span><br><span class="line">    cout &lt;&lt; pb[<span class="number">2</span>].data &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; ((<span class="built_in">static_cast</span>&lt;Derived*&gt;(pb)) + <span class="number">2</span>)-&gt;data1 &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">delete</span>[] pb;</span><br><span class="line">    cout &lt;&lt; Base::count &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; Derived::count &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">4           // static 静态变量, 在编译时确定内存, 不包括在类中, Base中含有一个int, 分配的大小为 4 字节, </span></span><br><span class="line"><span class="comment">12          // Base中的data, 和Derived中的data, data1, 三个int , 12字节</span></span><br><span class="line"><span class="comment">Base-ctor       // new 堆区初始化Derived实例, 三次, 先构造基类在构造自身</span></span><br><span class="line"><span class="comment">Derived-ctor</span></span><br><span class="line"><span class="comment">Base-ctor</span></span><br><span class="line"><span class="comment">Derived-ctor</span></span><br><span class="line"><span class="comment">Base-ctor</span></span><br><span class="line"><span class="comment">Derived-ctor</span></span><br><span class="line"><span class="comment">10              // pb基类指针指向派生类对象, 基类在派生类的内存分布在最前, pb访问到的是派生类的成员, 并且有偏移量限制, 不能访问派生类的内存.</span></span><br><span class="line"><span class="comment">-842150451      // static_cast将pb转换为Derived*, 这是可以的, 或者用更安全的dynamic_cast, 只要改变偏移量, 不过基类要改成多态类型的抽象类, </span></span><br><span class="line"><span class="comment">//  这题有点问题, 搞不懂为什么要用data初始化data1, data而又没有初始化值, 所以是不确定的内存值, 初始化了data1就是正常值</span></span><br><span class="line"><span class="comment">Base-dtor       // 调用pb指向的Derived中Base下的析构三次</span></span><br><span class="line"><span class="comment">Base-dtor       // </span></span><br><span class="line"><span class="comment">Base-dtor</span></span><br><span class="line"><span class="comment">0               // 静态变量默认初始化0</span></span><br><span class="line"><span class="comment">13              // Derived 构造三次 13, 没有调用Derived析构.内存泄漏,  建议把基类析构声明成虚函数就可以动态绑定按顺序析构派生类.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="lab6">lab6<a title="#lab6" href="#lab6"></a></h2>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span>  <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span>  <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span>  <span class="keyword">namespace</span>  std;</span><br><span class="line"><span class="keyword">class</span>  <span class="title class_">CFraction</span></span><br><span class="line">{</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="type">int</span>  nume;    <span class="comment">//  分子</span></span><br><span class="line">	<span class="type">int</span>  deno;    <span class="comment">//  分母</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">CFraction</span>(<span class="type">int</span>  nu = <span class="number">0</span>, <span class="type">int</span>  de = <span class="number">1</span>) :<span class="built_in">nume</span>(nu), <span class="built_in">deno</span>(de)  {}</span><br><span class="line">	<span class="function"><span class="type">void</span>  <span class="title">simplify</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//输入输出的重载</span></span><br><span class="line">	<span class="keyword">friend</span>  istream  &amp;<span class="keyword">operator</span>&gt;&gt;(istream  &amp;in, CFraction  &amp;x);</span><br><span class="line">	<span class="keyword">friend</span>  ostream  &amp;<span class="keyword">operator</span>&lt;&lt;(ostream  &amp;out, CFraction  x);</span><br><span class="line"></span><br><span class="line">	CFraction  <span class="keyword">operator</span>+(<span class="type">const</span>  CFraction  &amp;c2){</span><br><span class="line">			<span class="type">int</span> ldeno = deno * c2.deno;</span><br><span class="line">			<span class="type">int</span> lnume = nume * c2.deno + c2.nume * deno;</span><br><span class="line">			<span class="function">CFraction <span class="title">temp</span><span class="params">(lnume, ldeno)</span></span>;</span><br><span class="line">			temp.<span class="built_in">simplify</span>();</span><br><span class="line">			<span class="keyword">return</span> temp;</span><br><span class="line">	</span><br><span class="line">	}    <span class="comment">//两个分数相加，结果要化简</span></span><br><span class="line">	CFraction  <span class="keyword">operator</span>-(<span class="type">const</span>  CFraction  &amp;c2){</span><br><span class="line">			<span class="type">int</span> ldeno = deno * c2.deno;</span><br><span class="line">			<span class="type">int</span> lnume = nume * c2.deno - c2.nume * deno;</span><br><span class="line">			<span class="function">CFraction <span class="title">temp</span><span class="params">(lnume, ldeno)</span></span>;</span><br><span class="line">		</span><br><span class="line">			temp.<span class="built_in">simplify</span>();</span><br><span class="line">			<span class="keyword">return</span> temp;</span><br><span class="line">	}    <span class="comment">//两个分数相减，结果要化简</span></span><br><span class="line">	CFraction  <span class="keyword">operator</span>*(<span class="type">const</span>  CFraction  &amp;c2){</span><br><span class="line">			<span class="type">int</span> ldeno = deno * c2.deno;</span><br><span class="line">			<span class="type">int</span> lnume = nume * c2.nume;</span><br><span class="line">			<span class="function">CFraction <span class="title">temp</span><span class="params">(lnume, ldeno)</span></span>;</span><br><span class="line">		</span><br><span class="line">			temp.<span class="built_in">simplify</span>();</span><br><span class="line">			<span class="keyword">return</span> temp;</span><br><span class="line">	}    <span class="comment">//两个分数相乘，结果要化简</span></span><br><span class="line">	CFraction  <span class="keyword">operator</span>/(<span class="type">const</span>  CFraction  &amp;c2){</span><br><span class="line">			<span class="function">CFraction <span class="title">rotate</span><span class="params">(c2.deno, c2.nume)</span></span>;</span><br><span class="line">			<span class="keyword">return</span> *<span class="keyword">this</span>*rotate;</span><br><span class="line">		</span><br><span class="line">	}    <span class="comment">//两个分数相除，结果要化简</span></span><br><span class="line"></span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">istream&amp; <span class="keyword">operator</span>&gt;&gt;(istream  &amp;in, CFraction  &amp;x){</span><br><span class="line">	<span class="type">char</span> temp;</span><br><span class="line">	in &gt;&gt; x.nume &gt;&gt; temp &gt;&gt; x.deno;</span><br><span class="line">	<span class="keyword">return</span> in;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">ostream&amp;  <span class="keyword">operator</span>&lt;&lt;(ostream  &amp;out, CFraction  x){</span><br><span class="line">	<span class="keyword">if</span> (x.deno == <span class="number">1</span>){ out &lt;&lt; x.nume &lt;&lt; endl; }</span><br><span class="line">	<span class="keyword">else</span> out &lt;&lt; (x.nume &lt; <span class="number">0</span> ? showpos : noshowpos) &lt;&lt; x.nume &lt;&lt; <span class="string">"/"</span> &lt;&lt; noshowpos &lt;&lt; x.deno;</span><br><span class="line">	<span class="keyword">return</span> out;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">gcd</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> </span>{</span><br><span class="line">	a = <span class="built_in">abs</span>(a);</span><br><span class="line">	b = <span class="built_in">abs</span>(b);</span><br><span class="line">	<span class="type">int</span> r;</span><br><span class="line">	<span class="keyword">while</span> (b &gt; <span class="number">0</span>) {</span><br><span class="line">		r = a % b;</span><br><span class="line">		a = b;</span><br><span class="line">		b = r;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> a;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">CFraction::simplify</span><span class="params">()</span> </span>{</span><br><span class="line">	<span class="type">int</span> common = <span class="built_in">gcd</span>(deno, nume);</span><br><span class="line">	nume /= common;</span><br><span class="line">	deno /= common;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//CFraction  operator+(const  CFraction  &amp;c1, const  CFraction  &amp;c2){</span></span><br><span class="line"><span class="comment">//	int deno = c1.deno * c2.deno;</span></span><br><span class="line"><span class="comment">//	int nume = c1.nume * c2.deno + c2.nume * c1.deno;</span></span><br><span class="line"><span class="comment">//	CFraction temp(nume, deno);</span></span><br><span class="line"><span class="comment">//	temp.simplify();</span></span><br><span class="line"><span class="comment">//	return temp;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//}    //两个分数相加，结果要化简</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//CFraction  operator-(const  CFraction  &amp;c1, const  CFraction  &amp;c2){</span></span><br><span class="line"><span class="comment">//	int deno = c1.deno * c2.deno;</span></span><br><span class="line"><span class="comment">//	int nume = c1.nume * c2.deno - c2.nume * c1.deno;</span></span><br><span class="line"><span class="comment">//	CFraction temp(nume, deno);</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//	temp.simplify();</span></span><br><span class="line"><span class="comment">//	return temp;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//}    //两个分数相减，结果要化简</span></span><br><span class="line"><span class="comment">//CFraction  operator*(const  CFraction  &amp;c1, const  CFraction  &amp;c2){</span></span><br><span class="line"><span class="comment">//	int deno = c1.deno * c2.deno;</span></span><br><span class="line"><span class="comment">//	int nume = c1.nume * c2.nume;</span></span><br><span class="line"><span class="comment">//	CFraction temp(nume, deno);</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//	temp.simplify();</span></span><br><span class="line"><span class="comment">//	return temp;</span></span><br><span class="line"><span class="comment">//}    //两个分数相乘，结果要化简</span></span><br><span class="line"><span class="comment">//CFraction  operator/(const  CFraction  &amp;c1, const  CFraction  &amp;c2){</span></span><br><span class="line"><span class="comment">//	CFraction rotate(c2.deno, c2.nume);</span></span><br><span class="line"><span class="comment">//	return c1*rotate;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//}    //两个分数相除，结果要化简</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span>  <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	CFraction  x, y, s;</span><br><span class="line">	cout &lt;&lt; <span class="string">"Input x: "</span>;</span><br><span class="line">	cin &gt;&gt; x;</span><br><span class="line">	cout &lt;&lt; <span class="string">"Input y: "</span>;</span><br><span class="line">	cin &gt;&gt; y;</span><br><span class="line">	s = x + y;</span><br><span class="line">	cout &lt;&lt; <span class="string">"x+y="</span> &lt;&lt; s &lt;&lt; endl;</span><br><span class="line">	s = x - y;</span><br><span class="line">	cout &lt;&lt; <span class="string">"x-y="</span> &lt;&lt; s &lt;&lt; endl;</span><br><span class="line">	s = x*y;</span><br><span class="line">	cout &lt;&lt; <span class="string">"x*y="</span> &lt;&lt; s &lt;&lt; endl;</span><br><span class="line">	s = x / y;</span><br><span class="line">	cout &lt;&lt; <span class="string">"x/y="</span> &lt;&lt; s &lt;&lt; endl;</span><br><span class="line">	<span class="built_in">system</span>(<span class="string">"pause"</span>);</span><br><span class="line">	<span class="keyword">return</span>  <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span>  <span class="keyword">namespace</span>  std;</span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Matrix</span> {</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">	<span class="type">int</span> i, j;</span><br><span class="line">	<span class="comment">// 构造函数</span></span><br><span class="line">	<span class="built_in">Matrix</span>(<span class="type">int</span> i, <span class="type">int</span> j) :<span class="built_in">i</span>(i), <span class="built_in">j</span>(j) {</span><br><span class="line">		v.<span class="built_in">resize</span>(i * j);</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">// 赋值运算</span></span><br><span class="line">	Matrix&amp; <span class="keyword">operator</span>=(<span class="type">const</span> Matrix&amp; m) {</span><br><span class="line">		<span class="built_in">copy</span>(m.v.<span class="built_in">begin</span>(), m.v.<span class="built_in">end</span>(), v.<span class="built_in">begin</span>());</span><br><span class="line">		j = m.j;</span><br><span class="line">		i = m.i;</span><br><span class="line">		<span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">// 重载 &lt;&lt; </span></span><br><span class="line">	<span class="keyword">friend</span> ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream&amp; out, Matrix&amp; m) {</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> p = <span class="number">0</span>; p &lt; m.i; p++) {</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> q = <span class="number">0</span>; q &lt; m.j; q++) {</span><br><span class="line">				out &lt;&lt; m.v[p * m.j + q] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">			}</span><br><span class="line">			out &lt;&lt; endl;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">return</span> out;</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">// 重载 &gt;&gt;</span></span><br><span class="line">	<span class="keyword">friend</span> istream&amp; <span class="keyword">operator</span>&gt;&gt; (istream&amp; in, Matrix&amp; m) {</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; m.v.<span class="built_in">size</span>(); i++) cin &gt;&gt; m.v[i];</span><br><span class="line">		<span class="keyword">return</span> in;</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">// 重载 += </span></span><br><span class="line">	<span class="type">void</span> <span class="keyword">operator</span>+=(<span class="type">const</span> Matrix&amp; m) {</span><br><span class="line">		<span class="keyword">if</span> (i != m.i || j != m.j) cout &lt;&lt; <span class="string">"ERROR!"</span> &lt;&lt; endl;</span><br><span class="line">		<span class="keyword">else</span> {</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; m.v.<span class="built_in">size</span>(); i++) v[i] += m.v[i];</span><br><span class="line">			cout &lt;&lt; *<span class="keyword">this</span> &lt;&lt; endl;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">// 重载 *=</span></span><br><span class="line">	<span class="type">void</span> <span class="keyword">operator</span>*=(<span class="type">const</span> Matrix&amp; m) {</span><br><span class="line">		<span class="keyword">if</span> (j != m.i) cout &lt;&lt; <span class="string">"ERROR!"</span> &lt;&lt; endl;</span><br><span class="line">		<span class="keyword">else</span> {</span><br><span class="line">			Matrix <span class="built_in">res</span>(i, m.j);</span><br><span class="line">			<span class="comment">// 矩阵乘, 比如 ij 矩阵 乘 jk 矩阵得到 ik 矩阵, 求ik矩阵只需遍历i行k列, 然后遍历j次求和得到 m[i][k]   </span></span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> p = <span class="number">0</span>; p &lt; res.i; p++) {   </span><br><span class="line">				<span class="keyword">for</span> (<span class="type">int</span> q = <span class="number">0</span>; q &lt;res.j; q++) {</span><br><span class="line">					<span class="keyword">for</span> (<span class="type">int</span> r = <span class="number">0</span>; r &lt; j; r++) {</span><br><span class="line">						res.v[p * res.j + q] = res.v[p * res.j + q] + v[p * j + r] * m.v[r * m.j + q];</span><br><span class="line">					}</span><br><span class="line">				}</span><br><span class="line">			}</span><br><span class="line">			<span class="built_in">copy</span>(res.v.<span class="built_in">begin</span>(), res.v.<span class="built_in">end</span>(), v.<span class="built_in">begin</span>());</span><br><span class="line">			cout &lt;&lt; *<span class="keyword">this</span> &lt;&lt; endl;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">// 重载()</span></span><br><span class="line">	<span class="function"><span class="type">int</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> </span>{</span><br><span class="line">		<span class="keyword">return</span> v[a * j + b];</span><br><span class="line">	}</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">	<span class="type">int</span> row1, col1, row2, col2;</span><br><span class="line">	cin &gt;&gt; row1 &gt;&gt; col1;</span><br><span class="line">	<span class="function">Matrix <span class="title">m1</span><span class="params">(row1, col1)</span></span>;</span><br><span class="line">	cin &gt;&gt; m1;</span><br><span class="line">	</span><br><span class="line">	cin &gt;&gt; row2 &gt;&gt; col2;</span><br><span class="line">	<span class="function">Matrix <span class="title">m2</span><span class="params">(row2, col2)</span></span>;</span><br><span class="line">	cin &gt;&gt; m2;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="built_in">m1</span>(row1 / <span class="number">2</span>, col1 / <span class="number">2</span>) &lt;&lt; endl;</span><br><span class="line">	m1 *= m2;</span><br><span class="line">	m1 += m2;</span><br><span class="line">	m1 = m2;</span><br><span class="line">	cout &lt;&lt; m1 &lt;&lt; endl;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></div><is-e class="φu"><!----><ul class="φy"><li class="φw"><strong class="φx">Author<span>:</span></strong><p class="φv">slacr_</p></li><li class="φw"><strong class="φx">Copyright<span>:</span></strong><p class="φv"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank"><img src="/lib/cc-by-nc-sa.svg">CC BY-NC-ND 4.0</a></p></li><li class="φw"><strong class="φx">Published<span>:</span></strong><p class="φv">April 16, 2023</p></li><li class="φw"><strong class="φx">Updated<span>:</span></strong><p class="φv">April 16, 2023</p></li><!----></ul><!----></is-e><!----><is-j class="φcm"><p class="φcr">Buy me a cup of coffee ☕.</p><div class="φco"><div class="φct"><a class="φcs φa iκ-wechat" style="color:;"></a><a class="φcs" style="color:;">支</a><!----></div><div class="φcq"><!----></div></div></is-j><!----><div><div issnippet="" class="φb">


<link href="https://cdn.jsdelivr.net/gh/s1acr/my_jsDelivr@main/clipboard.css" rel="stylesheet">
</div><!----></div><!----></article><footer class="φex"><!----><div class="φey"><a class="φez φfb" href="/2023/04/18/%5B%E5%8D%9A%E5%AE%A2%E5%81%A5%E8%AE%BE%E5%85%AD%5DRSS%E8%AE%A2%E9%98%85">[博客健设六]RSS订阅</a><!----><a class="φez φfa" href="/2023/04/16/%5BC%2B%2BTask%5D">[C++Task]</a><!----></div><!----></footer><is-d class="φt"><div issnippet=""><div id="vcomments"></div>

</div><!----></is-d><!----><!----><!----></is-r><!----></main><!----></div></div></div><is-f class="φz"><div class="φbi"><span class="φa iκ-up"></span><span class="φa iκ-down"></span><!----><span class="φa iκ-toc"></span><!----><span class="φa iκ-search"></span><!----></div><div class="φbb φbc"><svg class="φbh"><defs><filter id="dp"><feGaussianBlur in="SourceGraphic" stdDeviation="2"></feGaussianBlur></filter></defs><circle filter="url(#dp)" fill="rgba(0,0,0,.3)" cx="50%" cy="52%" r="44%"></circle><circle cx="50%" cy="50%" r="44%" class="φbd"></circle><circle cx="50%" cy="50%" r="48%" class="φbg" stroke-dasharray="0% 314.15926%"></circle><!----><g class="φbe"><circle r=".2rem" cx="0" cy="-.8rem"></circle><circle r=".2rem"></circle><circle r=".2rem" cx="0" cy=".8rem"></circle></g><!----></svg></div></is-f><is-m class="φdq"><div class="φds φdt"><a class="φdv"><span class="φdx">1 </span><!----><span class="φdy">lab2_3</span></a><div class="φds"><a class="φdv"><span class="φdx">1.1 </span><!----><span class="φdy">题目</span></a><!----></div><div class="φds"><a class="φdv"><span class="φdx">1.2 </span><!----><span class="φdy">解答</span></a><!----></div><!----><!----><!----></div><div class="φds φdt"><a class="φdv"><span class="φdx">2 </span><!----><span class="φdy">lab3_1</span></a><div class="φds"><a class="φdv"><span class="φdx">2.1 </span><!----><span class="φdy">题目</span></a><!----></div><div class="φds"><a class="φdv"><span class="φdx">2.2 </span><!----><span class="φdy">解答</span></a><!----></div><!----><!----><!----></div><div class="φds φdt"><a class="φdv"><span class="φdx">3 </span><!----><span class="φdy">lab3_2</span></a><div class="φds"><a class="φdv"><span class="φdx">3.1 </span><!----><span class="φdy">题目</span></a><!----></div><div class="φds"><a class="φdv"><span class="φdx">3.2 </span><!----><span class="φdy">解答</span></a><!----></div><!----><!----><!----></div><div class="φds φdt"><a class="φdv"><span class="φdx">4 </span><!----><span class="φdy">lab5</span></a><!----></div><div class="φds φdt"><a class="φdv"><span class="φdx">5 </span><!----><span class="φdy">lab6</span></a><!----></div><!----></is-m><!----><!----></is-a><!-- hexo injector body_begin end --><!-- hexo injector body_end start --><script src="//code.bdstatic.com/npm/leancloud-storage@4.12.0/dist/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><script src="//cdnjs.loli.net/ajax/libs/jquery/3.2.1/jquery.min.js"></script><script src="//cdn.jsdelivr.net/gh/s1acr/my_jsDelivr@main/blogSelfDesign.js"></script><script src="/runtime.1ed960b0635ea0669f87.js"></script><script src="/polyfills.b7bf56fc45f931a8b83e.js"></script><script src="/main.543c891b4aad158701f3.js"></script><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"superSample":2,"position":"right","hOffset":0,"vOffset":-20,"bottom":100,"width":150,"height":200},"mobile":{"show":true,"scale":0.5},"react":{"opacity":0.7,"opacityDefault":0.7,"opacityOnHover":0.9},"log":false});</script>

</body></html>